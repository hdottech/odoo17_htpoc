[1mdiff --git a/.gitignore b/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..03b75c6[m
[1m--- /dev/null[m
[1m+++ b/.gitignore[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m*:Zone.Identifier[m
[1mdiff --git a/HTPOC b/HTPOC[m
[1mdeleted file mode 160000[m
[1mindex 436ef1a..0000000[m
[1m--- a/HTPOC[m
[1m+++ /dev/null[m
[36m@@ -1 +0,0 @@[m
[31m-Subproject commit 436ef1a65e97549575c9f26019d1f0b3c80544b4[m
[1mdiff --git a/New_res_partner/__init__.py b/New_res_partner/__init__.py[m
[1mdeleted file mode 100644[m
[1mindex 91141d9..0000000[m
[1m--- a/New_res_partner/__init__.py[m
[1m+++ /dev/null[m
[36m@@ -1,2 +0,0 @@[m
[31m-from . import models[m
[31m-#from . import controller[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/__manifest__.py b/New_res_partner/__manifest__.py[m
[1mdeleted file mode 100644[m
[1mindex 3e3472c..0000000[m
[1m--- a/New_res_partner/__manifest__.py[m
[1m+++ /dev/null[m
[36m@@ -1,22 +0,0 @@[m
[31m-{[m
[31m-    'name': "New_res_partner",[m
[31m-    'version': '1.0',[m
[31m-    'depends': ['base','sms'],[m
[31m-    'category': 'App',[m
[31m-    'application': False,[m
[31m-    'installable':True,[m
[31m-    'license': 'LGPL-3',[m
[31m-    'data': [[m
[31m-        'views/new_res_partner_view.xml',[m
[31m-        'views/new_res_partner_company_view.xml',[m
[31m-        'views/new_res_partner_work_type_view.xml',[m
[31m-        'views/new_res_partner_function_view.xml',[m
[31m-        'security/ir.model.access.csv',[m
[31m-        'data/ir_cron_data.xml',[m
[31m-    ],[m
[31m-    'assets': {[m
[31m-        'web.assets_backend': [[m
[31m-            'New_res_partner/static/src/css/custom_styles.css',[m
[31m-        ],[m
[31m-    },[m
[31m-}[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/__pycache__/__init__.cpython-310.pyc b/New_res_partner/__pycache__/__init__.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 65e9469..0000000[m
Binary files a/New_res_partner/__pycache__/__init__.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/data/ir_cron_data.xml b/New_res_partner/data/ir_cron_data.xml[m
[1mdeleted file mode 100644[m
[1mindex 3d76883..0000000[m
[1m--- a/New_res_partner/data/ir_cron_data.xml[m
[1m+++ /dev/null[m
[36m@@ -1,16 +0,0 @@[m
[31m-<?xml version="1.0" encoding="utf-8"?>[m
[31m-<odoo>[m
[31m-    <data noupdate="1">[m
[31m-        <record id="ir_cron_send_expiration_notifications" model="ir.cron">[m
[31m-            <field name="name">Send Expiration Notifications</field>[m
[31m-            <field name="model_id" ref="model_res_partner"/>[m
[31m-            <field name="state">code</field>[m
[31m-            <field name="code">model._cron_send_expiration_notifications()</field>[m
[31m-            <field name="interval_number">1</field>[m
[31m-            <field name="interval_type">weeks</field>[m
[31m-            <field name="numbercall">-1</field>[m
[31m-            <field name="doall" eval="False"/>[m
[31m-            <field name="active" eval="True"/>[m
[31m-        </record>[m
[31m-    </data>[m
[31m-</odoo>[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/models/__init__.py b/New_res_partner/models/__init__.py[m
[1mdeleted file mode 100644[m
[1mindex 9cb4e9e..0000000[m
[1m--- a/New_res_partner/models/__init__.py[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-from . import new_res_partner[m
[31m-from . import new_res_partner_company[m
[31m-from . import new_res_partner_work_type[m
[31m-from . import new_res_partner_function[m
[31m-from . import reason[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/models/__pycache__/__init__.cpython-310.pyc b/New_res_partner/models/__pycache__/__init__.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex a0f3365..0000000[m
Binary files a/New_res_partner/models/__pycache__/__init__.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner.cpython-310.pyc b/New_res_partner/models/__pycache__/new_res_partner.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 2dd4cc6..0000000[m
Binary files a/New_res_partner/models/__pycache__/new_res_partner.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_category_id.cpython-310.pyc b/New_res_partner/models/__pycache__/new_res_partner_category_id.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 6f5dbe3..0000000[m
Binary files a/New_res_partner/models/__pycache__/new_res_partner_category_id.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_company.cpython-310.pyc b/New_res_partner/models/__pycache__/new_res_partner_company.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 47590e2..0000000[m
Binary files a/New_res_partner/models/__pycache__/new_res_partner_company.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_function.cpython-310.pyc b/New_res_partner/models/__pycache__/new_res_partner_function.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 937ef49..0000000[m
Binary files a/New_res_partner/models/__pycache__/new_res_partner_function.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_safety.cpython-310.pyc b/New_res_partner/models/__pycache__/new_res_partner_safety.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 36c1871..0000000[m
Binary files a/New_res_partner/models/__pycache__/new_res_partner_safety.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_title.cpython-310.pyc b/New_res_partner/models/__pycache__/new_res_partner_title.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 93f1bf9..0000000[m
Binary files a/New_res_partner/models/__pycache__/new_res_partner_title.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_work_type.cpython-310.pyc b/New_res_partner/models/__pycache__/new_res_partner_work_type.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 6308457..0000000[m
Binary files a/New_res_partner/models/__pycache__/new_res_partner_work_type.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/__pycache__/reason.cpython-310.pyc b/New_res_partner/models/__pycache__/reason.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex 147dc5d..0000000[m
Binary files a/New_res_partner/models/__pycache__/reason.cpython-310.pyc and /dev/null differ
[1mdiff --git a/New_res_partner/models/new_res_partner.py b/New_res_partner/models/new_res_partner.py[m
[1mdeleted file mode 100644[m
[1mindex 50c763f..0000000[m
[1m--- a/New_res_partner/models/new_res_partner.py[m
[1m+++ /dev/null[m
[36m@@ -1,281 +0,0 @@[m
[31m-from odoo import api, fields, models, _[m
[31m-from odoo.exceptions import UserError[m
[31m-from odoo.tools.translate import _[m
[31m-from odoo.tools import DEFAULT_SERVER_DATE_FORMAT[m
[31m-import logging[m
[31m-from dateutil.relativedelta import relativedelta[m
[31m-from odoo.exceptions import ValidationError[m
[31m-[m
[31m-_logger = logging.getLogger(__name__)[m
[31m-class NewResPartner(models.Model):[m
[31m-    _inherit = 'res.partner'[m
[31m-    [m
[31m-[m
[31m-    #æ–°å¢å­—æ®µ[m
[31m-    # new_function=fields.Char(string="å·¥ä½œè·ä½")[m
[31m-    new_function=fields.Many2one('new.res.partner.function', string="å·¥ä½œè·ä½")[m
[31m-    address = fields.Char(string="ç·Šæ€¥è¯çµ¡äººåœ°å€")[m
[31m-    gender = fields.Selection([[m
[31m-        ('male', 'ç”·'),[m
[31m-        ('female', 'å¥³'),[m
[31m-        ], string='æ€§åˆ¥')[m
[31m-    id_number=fields.Char(string="èº«åˆ†è­‰å­—è™Ÿ",required=True, copy= False )[m
[31m-    _sql_constraints = [[m
[31m-        ('unique_id_number', 'UNIQUE(id_number)', 'èº«åˆ†è­‰å­—è™Ÿå¿…é ˆæ˜¯å”¯ä¸€çš„ï¼è«‹ç¢ºèªæ­¤äººæ˜¯å¦å·²ç¶“å­˜åœ¨æ–¼åå–®å…§ï¼'),[m
[31m-    ][m
[31m-    blood_type=fields.Selection([    [m
[31m-        ('A', 'Aå‹'),[m
[31m-        ('B', 'Bå‹'),[m
[31m-        ('O', 'Oå‹'),[m
[31m-        ('AB', 'ABå‹'),[m
[31m-        ], string='è¡€å‹')[m
[31m-    birthday=fields.Date(string="ç”Ÿæ—¥")[m
[31m-    age = fields.Integer(string="å¹´é½¡", compute='_compute_age', store=True)[m
[31m-    emergency_contact=fields.Char(string="ç·Šæ€¥è¯çµ¡äºº")[m
[31m-    emergency_relationship=fields.Char(string="ç·Šæ€¥è¯çµ¡äººé—œä¿‚")[m
[31m-    emergency_number=fields.Char(string="ç·Šæ€¥è¯çµ¡äººé›»è©±")[m
[31m-    admission=fields.Selection([[m
[31m-        ('no', 'ä¸å¯å…¥å ´'),[m
[31m-        ('yes', 'å¯å…¥å ´')[m
[31m-        ], string='å¯å¦å…¥å ´', compute='_compute_admission', store=True)[m
[31m-    main_contractor=fields.Many2one('new.res.partner.company', string="ä¸»æ‰¿æ”¬å•†")[m
[31m-    sub_contractor=fields.Many2one('new.res.partner.company', string="æ¬¡æ‰¿æ”¬å•†")[m
[31m-    under_contractor=fields.Many2one('new.res.partner.company', string="ä¸‹åŒ…å•†")[m
[31m-    work_type=fields.Many2one('new.res.partner.work.type', string="å·¥ç¨®")[m
[31m-    industrial_safety_personnel=fields.Many2one('res.partner', string="å·¥å®‰äººå“¡", domain=[('category_id', '=', 'å·¥å®‰äººå“¡')])[m
[31m-    industrial_safety_mobile=fields.Char(string="å·¥å®‰è¡Œå‹•é›»è©±", readonly=True, compute='_compute_industrial_safety_mobile')[m
[31m-    [m
[31m-    physical_examination_date=fields.Date(string="é«”æª¢æ—¥æœŸ")[m
[31m-    next_physical_examination_date = fields.Date(string="ä¸‹ä¸€æ¬¡é«”æª¢æ—¥æœŸ", compute='_compute_next_examination_date', store=True)[m
[31m-    Six_hour_class_date = fields.Date(string="å…­å°æ™‚ä¸Šèª²æ—¥æœŸ")[m
[31m-    six_hour_class_expired = fields.Boolean(string="å…­å°æ™‚ä¸Šèª²åˆ°æœŸ", compute='_compute_class_expiration', store=True)[m
[31m-    six_hour_class_expiry_date = fields.Date(string="å…­å°æ™‚ä¸Šèª²åˆ°æœŸæ—¥", compute='_compute_class_expiration', store=True)[m
[31m-    hazard_notification_class_date = fields.Date(string="å±å®³å‘ŠçŸ¥ä¸Šèª²æ—¥æœŸ")[m
[31m-    hazard_notification_class_expired = fields.Boolean(string="å±å®³å‘ŠçŸ¥ä¸Šèª²åˆ°æœŸ", compute='_compute_class_expiration', store=True)[m
[31m-    hazard_notification_class_expiry_date = fields.Date(string="å±å®³å‘ŠçŸ¥ä¸Šèª²åˆ°æœŸæ—¥", compute='_compute_class_expiration', store=True)[m
[31m-    next_physical_examination_status = fields.Selection([[m
[31m-        ('valid', 'æœ‰æ•ˆ'),[m
[31m-        ('expired', 'å·²é€¾æœŸ'),[m
[31m-    ], string="é«”æª¢ç‹€æ…‹", compute='_compute_date_status')[m
[31m-    six_hour_class_status = fields.Selection([[m
[31m-        ('valid', 'æœ‰æ•ˆ'),[m
[31m-        ('expired', 'å·²é€¾æœŸ'),[m
[31m-    ], string="å…­å°æ™‚ä¸Šèª²ç‹€æ…‹", compute='_compute_date_status')[m
[31m-    hazard_notification_class_status = fields.Selection([[m
[31m-        ('valid', 'è­‰ä»¶æœ‰æ•ˆ'),[m
[31m-        ('expired', 'ç„¡æ•ˆè­‰ä»¶'),[m
[31m-    ], string="å±å®³å‘ŠçŸ¥ä¸Šèª²ç‹€æ…‹", compute='_compute_date_status')[m
[31m-[m
[31m-    id_photo_front=fields.Binary(string="1.1. èº«åˆ†è­‰æ­£é¢")[m
[31m-    id_photo_back=fields.Binary(string="1.2. èº«åˆ†è­‰èƒŒé¢")[m
[31m-    mug_shot=fields.Binary(string="2. å¤§é ­ç…§")[m
[31m-    life_mug_shot_01=fields.Binary(string="2.1. ç”Ÿæ´»å¤§é ­ç…§01[è¾¨è­˜ä½¿ç”¨]")[m
[31m-    life_mug_shot_02=fields.Binary(string="2.2. ç”Ÿæ´»å¤§é ­ç…§02[è¾¨è­˜ä½¿ç”¨]")[m
[31m-    life_mug_shot_03=fields.Binary(string="2.3. ç”Ÿæ´»å¤§é ­ç…§03[è¾¨è­˜ä½¿ç”¨]")[m
[31m-    life_mug_shot_04=fields.Binary(string="2.4. ç”Ÿæ´»å¤§é ­ç…§04[è¾¨è­˜ä½¿ç”¨]")[m
[31m-    construction_six_hour=fields.Binary(string="3. ç‡Ÿé€ å…­å°æ™‚")[m
[31m-    physical_examination_form=fields.Binary(string="4. é«”æª¢è¡¨")[m
[31m-    labor_insurance=fields.Binary(string="5. å‹ä¿")[m
[31m-    hazzard_notification=fields.Binary(string="6. å±å®³å‘ŠçŸ¥")[m
[31m-    personal_date_consent_form=fields.Binary(string="7. å€‹äººè³‡æ–™åŒæ„æ›¸")[m
[31m-    security_cutoff_letter=fields.Binary(string="8. è³‡å®‰é€šè¨Šä¿å¯†åˆ‡çµæ›¸")[m
[31m-    foreigner_entry_certificate=fields.Binary(string="10. å¤–ç±äººå£«å…¥å°è­‰æ˜å½±æœ¬")[m
[31m-    health_commitment=fields.Binary(string="9. å¥åº·æ‰¿è«¾æ›¸")[m
[31m-[m
[31m-[m
[31m-    #æª¢æŸ¥èº«åˆ†è­‰å­—è™Ÿæ˜¯å¦æ˜¯å”¯ä¸€çš„[m
[31m-    @api.constrains('id_number')[m
[31m-[m
[31m-    def _check_id_number(self):[m
[31m-        for record in self:[m
[31m-            if record.id_number:[m
[31m-                existing = self.env['res.partner'].search([[m
[31m-                    ('id_number', '=', record.id_number),[m
[31m-                    ('id', '!=', record.id)[m
[31m-                ])[m
[31m-                if existing:[m
[31m-                    raise ValidationError(_("èº«åˆ†è­‰å­—è™Ÿ %s å·²å­˜åœ¨ï¼Œäººå“¡è³‡æ–™ä¸å…è¨±é‡è¤‡å»ºç«‹ï¼") % record.id_number)[m
[31m-                [m
[31m-    def write(self, vals):[m
[31m-        if 'id_number' in vals:[m
[31m-            for record in self:[m
[31m-                if record.id_number != vals['id_number']:[m
[31m-                    existing = self.env['res.partner'].search([[m
[31m-                        ('id_number', '=', vals['id_number']),[m
[31m-                        ('id', '!=', record.id)[m
[31m-                    ])[m
[31m-                    if existing:[m
[31m-                        raise ValidationError(_("èº«åˆ†è­‰å­—è™Ÿ %s å·²å­˜åœ¨ï¼Œäººå“¡è³‡æ–™ä¸å…è¨±é‡è¤‡æ›´æ–°ï¼") % vals['id_number'])[m
[31m-        return super(NewResPartner, self).write(vals)[m
[31m-[m
[31m-    #è¨ˆç®—å·¥å®‰è¡Œå‹•é›»è©±[m
[31m-    @api.onchange('industrial_safety_personnel')[m
[31m-    def _onchange_industrial_safety_personnel(self):[m
[31m-        self._compute_industrial_safety_mobile()[m
[31m-[m
[31m-    @api.depends('industrial_safety_personnel')[m
[31m-    def _compute_industrial_safety_mobile(self):[m
[31m-        if self.industrial_safety_personnel:[m
[31m-            self.industrial_safety_mobile = self.industrial_safety_personnel.mobile[m
[31m-        else:[m
[31m-            self.industrial_safety_mobile = False[m
[31m-[m
[31m-    #åœ¨äººåå‰é¢åŠ ä¸Šå…¬å¸åç¨±[m
[31m-    @api.depends('name', 'parent_id.name')[m
[31m-    def _compute_display_name(self):[m
[31m-        for partner in self:[m
[31m-            if partner.parent_id and partner.parent_id.is_company:[m
[31m-                partner.display_name = f"{partner.parent_id.name}, {partner.name}"[m
[31m-            else:[m
[31m-                partner.display_name = partner.name[m
[31m-[m
[31m-    # è¨ˆç®—å¹´é½¡[m
[31m-    @api.depends('birthday')[m
[31m-    def _compute_age(self):[m
[31m-        for record in self:[m
[31m-            if record.birthday:[m
[31m-                today = fields.Date.today()[m
[31m-                born = fields.Date.from_string(record.birthday)[m
[31m-                # è¨ˆç®—å¹´é½¡[m
[31m-                record.age = today.year - born.year - ((today.month, today.day) < (born.month, born.day))[m
[31m-            else:[m
[31m-                record.age = 0  # å¦‚æœæ²’æœ‰ç”Ÿæ—¥ï¼Œå‰‡è¨­å®šå¹´é½¡ç‚º0[m
[31m-[m
[31m-    # è¨ˆç®—ä¸‹ä¸€æ¬¡é«”æª¢æ—¥æœŸ[m
[31m-    @api.depends('age', 'physical_examination_date')[m
[31m-    def _compute_next_examination_date(self):[m
[31m-        for record in self:[m
[31m-            if record.physical_examination_date and record.age:[m
[31m-                if record.age < 45:[m
[31m-                    years_to_add = 5[m
[31m-                elif 45 <= record.age < 65:[m
[31m-                    years_to_add = 3[m
[31m-                else:[m
[31m-                    years_to_add = 1[m
[31m-                [m
[31m-                record.next_physical_examination_date = record.physical_examination_date + relativedelta(years=years_to_add)[m
[31m-            else:[m
[31m-                record.next_physical_examination_date = False[m
[31m-[m
[31m-    @api.depends('Six_hour_class_date', 'hazard_notification_class_date')[m
[31m-    def _compute_class_expiration(self):[m
[31m-        today = fields.Date.today()[m
[31m-        for record in self:[m
[31m-            # è¨ˆç®—å…­å°æ™‚ä¸Šèª²æ—¥æœŸåˆ°æœŸæ™‚é–“[m
[31m-            if record.Six_hour_class_date:[m
[31m-                expiry_date = record.Six_hour_class_date + relativedelta(years=3)[m
[31m-                record.six_hour_class_expiry_date = expiry_date[m
[31m-                record.six_hour_class_expired = today >= (expiry_date - relativedelta(months=1))[m
[31m-            else:[m
[31m-                record.six_hour_class_expired = False[m
[31m-                record.six_hour_class_expiry_date = False[m
[31m-[m
[31m-            # è¨ˆç®—å±å®³å‘ŠçŸ¥ä¸Šèª²æ—¥æœŸåˆ°æœŸæ™‚é–“[m
[31m-            if record.hazard_notification_class_date:[m
[31m-                expiry_date = record.hazard_notification_class_date + relativedelta(years=3)[m
[31m-                record.hazard_notification_class_expiry_date = expiry_date[m
[31m-                record.hazard_notification_class_expired = today >= (expiry_date - relativedelta(months=1))[m
[31m-            else:[m
[31m-                record.hazard_notification_class_expired = False[m
[31m-                record.hazard_notification_class_expiry_date = False[m
[31m-[m
[31m-    @api.depends('next_physical_examination_date', 'six_hour_class_expiry_date', 'hazard_notification_class_expiry_date')[m
[31m-    def _compute_admission(self):[m
[31m-        today = fields.Date.today()[m
[31m-        for record in self:[m
[31m-            if (record.next_physical_examination_date and record.next_physical_examination_date < today) or \[m
[31m-               (record.six_hour_class_expiry_date and record.six_hour_class_expiry_date < today) or \[m
[31m-               (record.hazard_notification_class_expiry_date and record.hazard_notification_class_expiry_date < today):[m
[31m-                record.admission = 'no'[m
[31m-            else:[m
[31m-                record.admission = 'yes'[m
[31m-[m
[31m-    # æª¢æŸ¥èª²ç¨‹åˆ°æœŸç‹€æ…‹[m
[31m-    @api.depends('next_physical_examination_date', 'six_hour_class_expiry_date', 'hazard_notification_class_expiry_date')[m
[31m-    def _compute_date_status(self):[m
[31m-        today = fields.Date.today()[m
[31m-        for record in self:[m
[31m-            record.next_physical_examination_status = 'valid' if record.next_physical_examination_date and record.next_physical_examination_date >= today else 'expired'[m
[31m-            record.six_hour_class_status = 'valid' if record.six_hour_class_expiry_date and record.six_hour_class_expiry_date >= today else 'expired'[m
[31m-            record.hazard_notification_class_status = 'valid' if record.hazard_notification_class_expiry_date and record.hazard_notification_class_expiry_date >= today else 'expired'[m
[31m-[m
[31m-    # @api.depends('last_physical_examination_date')[m
[31m-    # def _compute_next_examination_date(self):[m
[31m-    #     for employee in self:[m
[31m-    #         if employee.last_physical_examination_date:[m
[31m-    #             employee.next_physical_examination_date = employee.last_physical_examination_date + relativedelta(years=1)[m
[31m-[m
[31m-    # @api.depends('Six_hour_class_date', 'hazard_notification_class_date')[m
[31m-    # def _compute_class_expiration(self):[m
[31m-    #     for record in self:[m
[31m-    #         if record.Six_hour_class_date:[m
[31m-    #             record.six_hour_class_expiry_date = record.Six_hour_class_date + relativedelta(years=3)[m
[31m-    #         if record.hazard_notification_class_date:[m
[31m-    #             record.hazard_notification_class_expiry_date = record.hazard_notification_class_date + relativedelta(years=3)[m
[31m-[m
[31m-    # def send_expiration_notifications(self):[m
[31m-    #     _logger.info("Starting send_expiration_notifications")[m
[31m-    #     today = fields.Date.today()[m
[31m-    #     one_month_later = today + relativedelta(months=1)[m
[31m-    #     _logger.info(f"Today: {today}, One month later: {one_month_later}")[m
[31m-        [m
[31m-    #     employees_to_notify = self.search([[m
[31m-    #         '|', '|',[m
[31m-    #         ('next_physical_examination_date', '<=', one_month_later),[m
[31m-    #         ('six_hour_class_expiry_date', '<=', one_month_later),[m
[31m-    #         ('hazard_notification_class_expiry_date', '<=', one_month_later)[m
[31m-    #     ])[m
[31m-    #     _logger.info(f"Found {len(employees_to_notify)} employees to notify")[m
[31m-[m
[31m-    #     company_email = self.env.company.email[m
[31m-    #     if not company_email:[m
[31m-    #         _logger.error("Company email is not set")[m
[31m-    #         return[m
[31m-[m
[31m-    #     for employee in employees_to_notify:[m
[31m-    #         _logger.info(f"Processing employee: {employee.name}")[m
[31m-    #         if employee.email:[m
[31m-    #             expiring_items = [][m
[31m-    #             if employee.next_physical_examination_date and employee.next_physical_examination_date <= one_month_later:[m
[31m-    #                 expiring_items.append('é«”æª¢')[m
[31m-    #             if employee.six_hour_class_expiry_date and employee.six_hour_class_expiry_date <= one_month_later:[m
[31m-    #                 expiring_items.append('å…­å°æ™‚ä¸Šèª²')[m
[31m-    #             if employee.hazard_notification_class_expiry_date and employee.hazard_notification_class_expiry_date <= one_month_later:[m
[31m-    #                 expiring_items.append('å±å®³å‘ŠçŸ¥ä¸Šèª²')[m
[31m-[m
[31m-    #             if expiring_items:[m
[31m-    #                 subject = f"å“¡å·¥ {employee.name} çš„ {', '.join(expiring_items)} å³å°‡åˆ°æœŸ"[m
[31m-    #                 body = f"""[m
[31m-    #                 å°Šæ•¬çš„ {employee.name}ï¼Œ[m
[31m-[m
[31m-    #                 è«‹æ³¨æ„ï¼Œæ‚¨çš„ä»¥ä¸‹é …ç›®å³å°‡åœ¨ä¸€å€‹æœˆå…§åˆ°æœŸï¼š[m
[31m-[m
[31m-    #                 {', '.join(expiring_items)}[m
[31m-[m
[31m-    #                 è«‹ç›¡å¿«å®‰æ’ç›¸é—œæ›´æ–°ã€‚[m
[31m-[m
[31m-    #                 æ­¤è‡´ï¼Œ[m
[31m-    #                 äººåŠ›è³‡æºéƒ¨[m
[31m-    #                 """[m
[31m-[m
[31m-    #                 try:[m
[31m-    #                     self.env['mail.mail'].create({[m
[31m-    #                         'subject': subject,[m
[31m-    #                         'body_html': body,[m
[31m-    #                         'email_from': res.company.email,[m
[31m-    #                         'email_to': res.partner.email,[m
[31m-    #                         'auto_delete': False,[m
[31m-    #                     }).send()[m
[31m-    #                     _logger.info(f"Notification email sent to {employee.name} at {employee.email}")[m
[31m-    #                 except Exception as e:[m
[31m-    #                     _logger.error(f"Failed to send email to {employee.name}: {str(e)}")[m
[31m-    #             else:[m
[31m-    #                 _logger.info(f"No expiring items for {employee.name}")[m
[31m-    #         else:[m
[31m-    #             _logger.warning(f"No email address for {employee.name}")[m
[31m-[m
[31m-    #     _logger.info("Finished send_expiration_notifications")[m
[31m-[m
[31m-    @api.model[m
[31m-    def _cron_send_expiration_notifications(self):[m
[31m-        self.send_expiration_notifications()[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/models/new_res_partner_company.py b/New_res_partner/models/new_res_partner_company.py[m
[1mdeleted file mode 100644[m
[1mindex 1faf647..0000000[m
[1m--- a/New_res_partner/models/new_res_partner_company.py[m
[1m+++ /dev/null[m
[36m@@ -1,7 +0,0 @@[m
[31m-from odoo import api, fields, models[m
[31m-[m
[31m-class NewResPartnerCompany(models.Model):[m
[31m-    _name = 'new.res.partner.company'[m
[31m-    _description = 'New Partner Company'[m
[31m-[m
[31m-    name=fields.Char(string="å» å•†åç¨±")[m
[1mdiff --git a/New_res_partner/models/new_res_partner_function.py b/New_res_partner/models/new_res_partner_function.py[m
[1mdeleted file mode 100644[m
[1mindex 225b29e..0000000[m
[1m--- a/New_res_partner/models/new_res_partner_function.py[m
[1m+++ /dev/null[m
[36m@@ -1,7 +0,0 @@[m
[31m-from odoo import api, fields, models[m
[31m-[m
[31m-class NewResPartnerFunction(models.Model):[m
[31m-    _name = 'new.res.partner.function'[m
[31m-    _description = 'New Partner Function'[m
[31m-[m
[31m-    name=fields.Char(string="è·ä½åç¨±")[m
[1mdiff --git a/New_res_partner/models/new_res_partner_work_type.py b/New_res_partner/models/new_res_partner_work_type.py[m
[1mdeleted file mode 100644[m
[1mindex 3c54b3d..0000000[m
[1m--- a/New_res_partner/models/new_res_partner_work_type.py[m
[1m+++ /dev/null[m
[36m@@ -1,7 +0,0 @@[m
[31m-from odoo import api, fields, models[m
[31m-[m
[31m-class NewResPartnerWorkType(models.Model):[m
[31m-    _name = 'new.res.partner.work.type'[m
[31m-    _description = 'New Partner Work Type'[m
[31m-[m
[31m-    name=fields.Char(string="å·¥ç¨®åç¨±")[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/models/reason.py b/New_res_partner/models/reason.py[m
[1mdeleted file mode 100644[m
[1mindex 3a8687f..0000000[m
[1m--- a/New_res_partner/models/reason.py[m
[1m+++ /dev/null[m
[36m@@ -1,14 +0,0 @@[m
[31m-from odoo import models, fields, api[m
[31m-[m
[31m-class NoEntryReason(models.Model):[m
[31m-    _name = 'no.entry.reason'[m
[31m-    _description = 'ä¸å¯å…¥å ´åŸå› è¨˜éŒ„'[m
[31m-[m
[31m-    partner_id = fields.Many2one('res.partner', string='è¯çµ¡äºº', required=True, ondelete='cascade')[m
[31m-    reason = fields.Text(string="ä¸å¯å…¥å ´åŸå› ç´€éŒ„")[m
[31m-    date = fields.Date(string="è¨˜éŒ„æ—¥æœŸ")[m
[31m-[m
[31m-class ResPartner(models.Model):[m
[31m-    _inherit = 'res.partner'[m
[31m-[m
[31m-    no_entry_reason_ids = fields.One2many('no.entry.reason', 'partner_id', string='ä¸å¯å…¥å ´åŸå› è¨˜éŒ„')[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/security/ir.model.access.csv b/New_res_partner/security/ir.model.access.csv[m
[1mdeleted file mode 100644[m
[1mindex 709279f..0000000[m
[1m--- a/New_res_partner/security/ir.model.access.csv[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink[m
[31m-access_new_res_partner_company,access_new_res_partner_company,model_new_res_partner_company,base.group_user,1,1,1,1[m
[31m-access_new_res_partner_work_type,access_new_res_partner_work_type,model_new_res_partner_work_type,base.group_user,1,1,1,1[m
[31m-access_new_res_partner_function,access_new_res_partner_function,model_new_res_partner_function,base.group_user,1,1,1,1[m
[31m-access_no_entry_reason,access_no_entry_reason,model_no_entry_reason,base.group_user,1,1,1,1[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/static/src/css/custom_styles.css b/New_res_partner/static/src/css/custom_styles.css[m
[1mdeleted file mode 100644[m
[1mindex 71ed4a3..0000000[m
[1m--- a/New_res_partner/static/src/css/custom_styles.css[m
[1m+++ /dev/null[m
[36m@@ -1,7 +0,0 @@[m
[31m-.new_oe_avatar {[m
[31m-    border: none;[m
[31m-    box-shadow: none;[m
[31m-    max-width: 70px;[m
[31m-    max-height: 70px;[m
[31m-    margin-right: 300px;[m
[31m-}[m
[1mdiff --git a/New_res_partner/views/new_res_partner_company_view.xml b/New_res_partner/views/new_res_partner_company_view.xml[m
[1mdeleted file mode 100644[m
[1mindex 9a0bc51..0000000[m
[1m--- a/New_res_partner/views/new_res_partner_company_view.xml[m
[1m+++ /dev/null[m
[36m@@ -1,29 +0,0 @@[m
[31m-<?xml version="1.0" encoding="utf-8"?>[m
[31m-<odoo>[m
[31m-    <data>[m
[31m-        <!-- æ ‘çŠ¶è§†å›¾ -->[m
[31m-        <record id="view_new_res_partner_company_tree" model="ir.ui.view">[m
[31m-            <field name="name">new.res.partner.company.tree</field>[m
[31m-            <field name="model">new.res.partner.company</field>[m
[31m-            <field name="arch" type="xml">[m
[31m-                <tree string="å» å•†åˆ—è¡¨">[m
[31m-                    <field name="name"/>[m
[31m-                </tree>[m
[31m-            </field>[m
[31m-        </record>[m
[31m-[m
[31m-        <!-- åŠ¨ä½œ -->[m
[31m-        <record id="action_new_res_partner_company" model="ir.actions.act_window">[m
[31m-            <field name="name">æ‰¿æ”¬å» å•†</field>[m
[31m-            <field name="res_model">new.res.partner.company</field>[m
[31m-            <field name="view_mode">tree,form</field>[m
[31m-        </record>[m
[31m-[m
[31m-        <!-- èœå•é¡¹ -->[m
[31m-        <menuitem id="menu_new_res_partner_company"[m
[31m-                  name="æ‰¿æ”¬å» å•†"[m
[31m-                  action="action_new_res_partner_company"[m
[31m-                  parent="contacts.res_partner_menu_config"[m
[31m-                  sequence="0"/>[m
[31m-    </data>[m
[31m-</odoo>[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/views/new_res_partner_function_view.xml b/New_res_partner/views/new_res_partner_function_view.xml[m
[1mdeleted file mode 100644[m
[1mindex c857e3d..0000000[m
[1m--- a/New_res_partner/views/new_res_partner_function_view.xml[m
[1m+++ /dev/null[m
[36m@@ -1,29 +0,0 @@[m
[31m-<?xml version="1.0" encoding="utf-8"?>[m
[31m-<odoo>[m
[31m-    <data>[m
[31m-        <!-- æ ‘çŠ¶è§†å›¾ -->[m
[31m-        <record id="view_new_res_partner_function_tree" model="ir.ui.view">[m
[31m-            <field name="name">new.res.partner.function.tree</field>[m
[31m-            <field name="model">new.res.partner.function</field>[m
[31m-            <field name="arch" type="xml">[m
[31m-                <tree string="è·ä½åˆ—è¡¨">[m
[31m-                    <field name="name"/>[m
[31m-                </tree>[m
[31m-            </field>[m
[31m-        </record>[m
[31m-[m
[31m-        <!-- åŠ¨ä½œ -->[m
[31m-        <record id="action_new_res_partner_function" model="ir.actions.act_window">[m
[31m-            <field name="name">è·ä½</field>[m
[31m-            <field name="res_model">new.res.partner.function</field>[m
[31m-            <field name="view_mode">tree,form</field>[m
[31m-        </record>[m
[31m-[m
[31m-        <!-- èœå•é¡¹ -->[m
[31m-        <menuitem id="menu_new_res_partner_function"[m
[31m-                  name="è·ä½"[m
[31m-                  action="action_new_res_partner_function"[m
[31m-                  parent="contacts.res_partner_menu_config"[m
[31m-                  sequence="0"/>[m
[31m-    </data>[m
[31m-</odoo>[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/views/new_res_partner_view.xml b/New_res_partner/views/new_res_partner_view.xml[m
[1mdeleted file mode 100644[m
[1mindex 258129a..0000000[m
[1m--- a/New_res_partner/views/new_res_partner_view.xml[m
[1m+++ /dev/null[m
[36m@@ -1,178 +0,0 @@[m
[31m-<?xml version="1.0" encoding="utf-8"?>[m
[31m-<odoo>[m
[31m-    <data>[m
[31m-        <record id="view_partner_form_inherited" model="ir.ui.view">[m
[31m-            <field name="name">res.partner.form.inherited</field>[m
[31m-            <field name="model">res.partner</field>[m
[31m-            <field name="inherit_id" ref="base.view_partner_form"/>[m
[31m-            <field name="arch" type="xml">[m
[31m-                <!-- éš±è—é é¢ -->[m
[31m-                <!-- éš±è—åœ°å€é¡å‹ä¸‹æ‹‰é¸å–® -->[m
[31m-                <xpath expr="//field[@name='type']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-                <xpath expr="//span[@name='address_name']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- éš±è—åœ°å€é¡å‹æ¨™ç±¤ -->[m
[31m-                <xpath expr="//label[@for='street']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- éš±è—æ•´å€‹åœ°å€æ¬„ä½å€åŸŸ -->[m
[31m-                <xpath expr="//div[@class='o_address_format']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- éš±è—åœ°å€æ¨™ç±¤ -->[m
[31m-                <xpath expr="//label[@for='street']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- <xpath expr="//page[@name='contact_addresses']" position="attributes">[m
[31m-                    <attribute name="invisible">not is_company</attribute>[m
[31m-                </xpath> -->[m
[31m-                <xpath expr="//page[@name='sales_purchases']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-                <xpath expr="//page[@name='internal_notes']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- éš±è—æˆ–ç§»é™¤åŸä½ç½®ä¸éœ€è¦çš„å­—æ®µ -->[m
[31m-                <xpath expr="//field[@name='title']" position="replace"/>[m
[31m-                <xpath expr="//field[@name='category_id']" position="replace"/>[m
[31m-                <xpath expr="//field[@name='vat']" position="attributes">[m
[31m-                    <attribute name="invisible">not is_company</attribute>[m
[31m-                </xpath>[m
[31m-                <xpath expr="//field[@name='lang']" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- åœ¨å·¦å´groupæ·»åŠ å­—æ®µ -->[m
[31m-                <xpath expr="//group/group[1]/span[@name='address_name']" position="before">[m
[31m-                    <field name="new_function" placeholder="ä¾‹å¦‚: éŠ·å”®ç¸½ç›£" invisible="is_company"/>[m
[31m-                    <field name="title" string="ç¨±è¬‚" options='{"no_open": True}' placeholder="ä¾‹å¦‚: å…ˆç”Ÿ"[m
[31m-                                invisible="is_company"/>[m
[31m-                    <field name="category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"[m
[31m-                                   placeholder='ä¾‹å¦‚,"B2B"ã€"VIP"ã€"è«®è©¢"......'/>[m
[31m-                    <field name="gender" widget="radio" options="{'horizontal': true}" invisible="is_company"/>[m
[31m-                    <field name="id_number" invisible="is_company"/>[m
[31m-                    <field name="blood_type" invisible="is_company"/>[m
[31m-                    <field name="birthday" invisible="is_company"/>[m
[31m-                    <field name="age" invisible="is_company"/>[m
[31m-                    <field name="emergency_contact" invisible="is_company"/>[m
[31m-                    <field name="emergency_relationship" invisible="is_company"/>[m
[31m-                    <field name="emergency_number" invisible="is_company"/>[m
[31m-                    <field name="address" />[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- åœ¨å³å´groupæ·»åŠ å­—æ®µ -->[m
[31m-                <xpath expr="//group/group[2]/field[@name='function']" position="replace">[m
[31m-                    <field name="admission" widget="statusbar" options="{'clickable': '1'}" statusbar_visible="no,yes"/>[m
[31m-                </xpath>[m
[31m-                <xpath expr="//field[@name='website']" position="replace">[m
[31m-                    <field name="main_contractor"/>[m
[31m-                    <field name="sub_contractor"/>[m
[31m-                    <field name="under_contractor"/>[m
[31m-                    <field name="work_type"/>[m
[31m-                    <field name="industrial_safety_personnel"/>[m
[31m-                    <field name="industrial_safety_mobile" readonly="1"/>[m
[31m-                    <field name="physical_examination_date" invisible="is_company"/>[m
[31m-                    <field name="next_physical_examination_date" invisible="is_company"/>[m
[31m-                    <field name="next_physical_examination_status" widget="badge"[m
[31m-                            decoration-success="next_physical_examination_status == 'valid'"[m
[31m-                            decoration-danger="next_physical_examination_status == 'expired'"[m
[31m-                            invisible="is_company"/>[m
[31m-                    <field name="Six_hour_class_date" invisible="is_company"/>[m
[31m-                    <field name="six_hour_class_expiry_date" invisible="is_company"/>[m
[31m-                    <field name="six_hour_class_status"[m
[31m-                            widget="badge"[m
[31m-                            decoration-success="six_hour_class_status == 'valid'"[m
[31m-                            decoration-danger="six_hour_class_status == 'expired'"[m
[31m-                            invisible="is_company"/>[m
[31m-                    <field name="hazard_notification_class_date" invisible="is_company"/>[m
[31m-                    <field name="hazard_notification_class_expiry_date" invisible="is_company"/>[m
[31m-                    <field name="hazard_notification_class_status" [m
[31m-                            widget="badge"[m
[31m-                            decoration-success="hazard_notification_class_status == 'valid'"[m
[31m-                            decoration-danger="hazard_notification_class_status == 'expired'" [m
[31m-                            invisible="is_company"/>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- æ·»åŠ é é¢ -->[m
[31m-                <xpath expr="//page[@name='internal_notes']" position="after">[m
[31m-                    <page string="è¾¦è­‰æäº¤è³‡æ–™" name="document" invisible="is_company">[m
[31m-                        <group>[m
[31m-                            <group>[m
[31m-                                <field name="id_photo_front" widget="image" class="new_oe_avatar"/>[m
[31m-                                <field name="id_photo_back" widget="image" class="new_oe_avatar"/>[m
[31m-                                <field name="mug_shot" widget="image" class="new_oe_avatar"/>[m
[31m-                                <field name="life_mug_shot_01" widget="image" class="new_oe_avatar"/>[m
[31m-                                <field name="life_mug_shot_02" widget="image" class="new_oe_avatar"/>[m
[31m-                                <field name="life_mug_shot_03" widget="image" class="new_oe_avatar"/>[m
[31m-                                <field name="life_mug_shot_04" widget="image" class="new_oe_avatar"/>[m
[31m-                            </group>[m
[31m-                            <group>[m
[31m-                                <field name="construction_six_hour"/>[m
[31m-                                <field name="physical_examination_form"/>[m
[31m-                                <field name="labor_insurance"/>[m
[31m-                                <field name="hazzard_notification"/>[m
[31m-                                <field name="personal_date_consent_form"/>[m
[31m-                                <field name="security_cutoff_letter"/>[m
[31m-                                <field name="health_commitment"/>[m
[31m-                                <field name="foreigner_entry_certificate"/>[m
[31m-                            </group>[m
[31m-                        </group>[m
[31m-                    </page>[m
[31m-                </xpath>[m
[31m-                <xpath expr="//notebook" position="inside">[m
[31m-                    <page string="å…¥å ´è³‡è¨Š">[m
[31m-                        <field name="no_entry_reason_ids">[m
[31m-                            <tree editable="bottom">[m
[31m-                                <field name="date" width="33%"/>[m
[31m-                                <field name="reason" width="67%"/>[m
[31m-                            </tree>[m
[31m-                        </field>[m
[31m-                    </page>[m
[31m-                </xpath>[m
[31m-[m
[31m-                <!-- éš±è— type å­—æ®µï¼Œä½†ä¿ç•™å…¶å€¼ï¼Œä¸¦æ›´æ”¹ç‚ºè¯çµ¡äºº -->[m
[31m-                <field name="type" position="attributes">[m
[31m-                    <attribute name="invisible">1</attribute>[m
[31m-                    <attribute name="force_save">1</attribute>[m
[31m-                </field>[m
[31m-            </field>[m
[31m-        </record>[m
[31m-[m
[31m-        <!-- åœ¨è¯çµ¡äººæ¸…å–®è£¡é¡¯ç¤ºæ–°æ¬„ä½ -->[m
[31m-        <record id="view_partner_tree_inherit" model="ir.ui.view">[m
[31m-            <field name="name">res.partner.tree.inherit</field>[m
[31m-            <field name="model">res.partner</field>[m
[31m-            <field name="inherit_id" ref="base.view_partner_tree" />[m
[31m-            <field name="arch" type="xml">[m
[31m-                <xpath expr="//tree/field[@name='display_name']" position="after">[m
[31m-                    <field name="new_function" optional="show"/>[m
[31m-                    <field name="gender" optional="show"/>[m
[31m-                    <field name="id_number" optional="show"/>[m
[31m-                    <field name="blood_type" optional="show"/>[m
[31m-                    <field name="birthday" optional="show"/>[m
[31m-                    <field name="emergency_contact" optional="show"/>[m
[31m-                    <field name="emergency_relationship" optional="show"/>[m
[31m-                    <field name="emergency_number" optional="show"/>[m
[31m-                    <field name="admission" optional="show"/>[m
[31m-                    <field name="main_contractor" optional="show"/>[m
[31m-                    <field name="sub_contractor" optional="show"/>[m
[31m-                    <field name="under_contractor" optional="show"/>[m
[31m-                    <field name="work_type" optional="show"/>[m
[31m-                    <field name="industrial_safety_personnel" optional="show"/>[m
[31m-                    <field name="industrial_safety_mobile" optional="show"/>[m
[31m-                    <field name="physical_examination_date" optional="show"/>[m
[31m-                    <field name="Six_hour_class_date" optional="show"/>[m
[31m-                    <field name="hazard_notification_class_date" optional="show"/>[m
[31m-                </xpath>[m
[31m-            </field>[m
[31m-        </record>[m
[31m-    </data>[m
[31m-</odoo>[m
\ No newline at end of file[m
[1mdiff --git a/New_res_partner/views/new_res_partner_work_type_view.xml b/New_res_partner/views/new_res_partner_work_type_view.xml[m
[1mdeleted file mode 100644[m
[1mindex 3c95d2a..0000000[m
[1m--- a/New_res_partner/views/new_res_partner_work_type_view.xml[m
[1m+++ /dev/null[m
[36m@@ -1,29 +0,0 @@[m
[31m-<?xml version="1.0" encoding="utf-8"?>[m
[31m-<odoo>[m
[31m-    <data>[m
[31m-        <!-- æ ‘çŠ¶è§†å›¾ -->[m
[31m-        <record id="view_new_res_partner_worktype_tree" model="ir.ui.view">[m
[31m-            <field name="name">new.res.partner.work.type.tree</field>[m
[31m-            <field name="model">new.res.partner.work.type</field>[m
[31m-            <field name="arch" type="xml">[m
[31m-                <tree string="å·¥ç¨®åˆ—è¡¨">[m
[31m-                    <field name="name"/>[m
[31m-                </tree>[m
[31m-            </field>[m
[31m-        </record>[m
[31m-[m
[31m-        <!-- åŠ¨ä½œ -->[m
[31m-        <record id="action_new_res_partner_work_type" model="ir.actions.act_window">[m
[31m-            <field name="name">å·¥ç¨®</field>[m
[31m-            <field name="res_model">new.res.partner.work.type</field>[m
[31m-            <field name="view_mode">tree</field>[m
[31m-        </record>[m
[31m-[m
[31m-        <!-- èœå•é¡¹ -->[m
[31m-        <menuitem id="menu_new_res_partner_work_type"[m
[31m-                  name="å·¥ç¨®"[m
[31m-                  action="action_new_res_partner_work_type"[m
[31m-                  parent="contacts.res_partner_menu_config"[m
[31m-                  sequence="0"/>[m
[31m-    </data>[m
[31m-</odoo>[m
\ No newline at end of file[m
[1mdiff --git a/__init__.py b/__init__.py[m
[1mnew file mode 100644[m
[1mindex 0000000..d67ec9a[m
[1m--- /dev/null[m
[1m+++ b/__init__.py[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32m# -*- coding: utf-8 -*-[m[41m[m
[32m+[m[32mfrom . import models[m[41m[m
[32m+[m[32mfrom . import controllers[m[41m[m
[32m+[m[32mfrom . import utils[m
\ No newline at end of file[m
[1mdiff --git a/__manifest__.py b/__manifest__.py[m
[1mnew file mode 100644[m
[1mindex 0000000..f0507d0[m
[1m--- /dev/null[m
[1m+++ b/__manifest__.py[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m{[m[41m[m
[32m+[m[32m    'name': 'æ¼¢å”é›†æˆç¼ºå¤±è¨˜éŒ„',[m[41m[m
[32m+[m[32m    'version': '17.0.0.1',[m[41m[m
[32m+[m[32m    'category': 'APP',[m[41m[m
[32m+[m[32m    'summary': 'HTPOC æ¼¢å”é›†æˆç¼ºå¤±è¨˜éŒ„',[m[41m[m
[32m+[m[32m    'description': 'Module for managing missing records',[m[41m[m
[32m+[m[32m    'depends': ['base','web','mail','New_res_partner','sms'],[m[41m[m
[32m+[m[32m    'license': 'LGPL-3',[m[41m[m
[32m+[m[32m    'data': [[m[41m[m
[32m+[m[32m        'security/ir.model.access.csv',[m[41m[m
[32m+[m[32m        'views/htpoc_classification_views.xml',[m[41m[m
[32m+[m[32m        'views/htpoc_missingrecords.xml',[m[41m[m
[32m+[m[32m        'views/htpoc_missingrecords_type.xml',[m[41m[m
[32m+[m[32m        'views/classification_level.xml',[m[41m[m
[32m+[m[32m        'views/beforeafterimage.xml',[m[41m[m
[32m+[m[32m        'views/users.xml',[m[41m[m
[32m+[m[32m        #'data/res_users_data.xml',[m[41m[m
[32m+[m[41m            [m
[32m+[m[41m[m
[32m+[m[32m        # 'views/users.xml',[m[41m[m
[32m+[m[32m        'views/htpoc_menu.xml',[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    ],[m[41m[m
[32m+[m[32m    'icon': '/HTPOC/static/description/icon.png',[m[41m[m
[32m+[m[32m    'installable': True,[m[41m[m
[32m+[m[32m    'application': True,[m[41m[m
[32m+[m[32m}[m[41m[m
[1mdiff --git a/__pycache__/__init__.cpython-310.pyc b/__pycache__/__init__.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..70b623a[m
Binary files /dev/null and b/__pycache__/__init__.cpython-310.pyc differ
[1mdiff --git a/controllers/__init__.py b/controllers/__init__.py[m
[1mnew file mode 100644[m
[1mindex 0000000..1ed1d7a[m
[1m--- /dev/null[m
[1m+++ b/controllers/__init__.py[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mfrom . import htpoc_missingrecords, htpoc_missingrecords_level[m
\ No newline at end of file[m
[1mdiff --git a/controllers/__pycache__/__init__.cpython-310.pyc b/controllers/__pycache__/__init__.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..d416077[m
Binary files /dev/null and b/controllers/__pycache__/__init__.cpython-310.pyc differ
[1mdiff --git a/New_res_partner/__pycache__/__init__.cpython-310.pyc:Zone.Identifier b/controllers/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1mrename to controllers/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1mdiff --git a/New_res_partner/__init__.py:Zone.Identifier b/controllers/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/__init__.py:Zone.Identifier[m
[1mrename to controllers/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/custom_employee_badge/__init__.py:Zone.Identifier b/controllers/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from custom_employee_badge/__init__.py:Zone.Identifier[m
[1mrename to controllers/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc b/controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..7c6ad2e[m
Binary files /dev/null and b/controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc differ
[1mdiff --git a/New_res_partner/__init__.py:Zone.Identifier:Zone.Identifier b/controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/__init__.py:Zone.Identifier:Zone.Identifier[m
[1mrename to controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier[m
[1mdiff --git a/New_res_partner/__manifest__.py:Zone.Identifier b/controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/__manifest__.py:Zone.Identifier[m
[1mrename to controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/custom_employee_badge/__manifest__.py:Zone.Identifier b/controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from custom_employee_badge/__manifest__.py:Zone.Identifier[m
[1mrename to controllers/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc b/controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..f75993d[m
Binary files /dev/null and b/controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc differ
[1mdiff --git a/New_res_partner/__manifest__.py:Zone.Identifier:Zone.Identifier b/controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/__manifest__.py:Zone.Identifier:Zone.Identifier[m
[1mrename to controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc:Zone.Identifier[m
[1mdiff --git a/New_res_partner/models/__init__.py:Zone.Identifier b/controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__init__.py:Zone.Identifier[m
[1mrename to controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/custom_employee_badge/__pycache__/__init__.cpython-310.pyc:Zone.Identifier b/controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from custom_employee_badge/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1mrename to controllers/__pycache__/htpoc_missingrecords_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/controllers/htpoc_missingrecords.py b/controllers/htpoc_missingrecords.py[m
[1mnew file mode 100644[m
[1mindex 0000000..0ea341a[m
[1m--- /dev/null[m
[1m+++ b/controllers/htpoc_missingrecords.py[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32mimport json[m[41m[m
[32m+[m[32mimport requests[m[41m[m
[32m+[m[41m[m
[32m+[m[32mfrom odoo import http[m[41m[m
[32m+[m[32mfrom ..utils.authutils import authenticate[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass Htpoc_missingrecords(http.Controller):[m[41m[m
[32m+[m	[32m@http.route('/healthcheck', auth='public', methods=['GET', 'POST'])[m[41m[m
[32m+[m	[32mdef healthcheck(self, **kw):[m[41m[m
[32m+[m		[32mreturn "IT Works"[m[41m[m
[32m+[m	[32m@http.route('/xyz', auth='user')[m[41m[m
[32m+[m	[32mdef xyz(self, **kw):[m[41m[m
[32m+[m		[32mreturn "This is accessible for authenticated user"[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m@http.route('/entries', auth='public')[m[41m[m
[32m+[m	[32m@authenticate[m[41m[m
[32m+[m	[32mdef entries(self, **kw):[m[41m[m
[32m+[m		[32mresponse = requests.get("https://api.publicapis.org/entries")[m[41m[m
[32m+[m		[32mreturn json.dumps(response.json())[m[41m[m
[1mdiff --git a/controllers/htpoc_missingrecords_level.py b/controllers/htpoc_missingrecords_level.py[m
[1mnew file mode 100644[m
[1mindex 0000000..c8e1261[m
[1m--- /dev/null[m
[1m+++ b/controllers/htpoc_missingrecords_level.py[m
[36m@@ -0,0 +1,115 @@[m
[32m+[m[32mimport json[m[41m[m
[32m+[m[41m[m
[32m+[m[32mfrom odoo import http[m[41m[m
[32m+[m[32mfrom odoo.http import request, Response[m[41m[m
[32m+[m[41m[m
[32m+[m[32mfrom ..utils.authutils import authenticate[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass HtpocClassificationController(http.Controller):[m[41m[m
[32m+[m[32m    @http.route('/classification_level', auth="public", methods=['GET'])[m[41m[m
[32m+[m[32m    @authenticate[m[41m[m
[32m+[m[32m    def get_classification_level(self, **kwargs):[m[41m[m
[32m+[m[32m        levels = request.env['classification_level'].search([])[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        classification_levels = [][m[41m[m
[32m+[m[32m        for level in levels:[m[41m[m
[32m+[m[32m            classification_levels.append({[m[41m[m
[32m+[m[32m                'id': level.id,[m[41m[m
[32m+[m[32m                'name': level.name,[m[41m[m
[32m+[m[32m                # 'description': level.description,[m[41m[m
[32m+[m[32m                'level': level.level[m[41m[m
[32m+[m[32m            })[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        return Response(json.dumps(classification_levels), content_type="application/json")[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m    [m
[32m+[m[32m    @http.route('/classification_level/<int:level_id>', auth="public", methods=['GET'])[m[41m[m
[32m+[m[32m    @authenticate[m[41m[m
[32m+[m[32m    def get_classification_level_by_id(self, level_id, **kwargs):[m[41m[m
[32m+[m[32m        try:[m[41m[m
[32m+[m[32m            level = request.env['classification_level'].browse(level_id)[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            response_data = {[m[41m[m
[32m+[m[32m                'id': level.id,[m[41m[m
[32m+[m[32m                'name': level.name,[m[41m[m
[32m+[m[32m                'level': level.level[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            return Response(json.dumps(response_data), content_type="application/json")[m[41m[m
[32m+[m[32m        except Exception as e:[m[41m[m
[32m+[m[32m            return Response(json.dumps({'error': 'something went wrong', 'error_detail': str(e)}), status=500)[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m    @http.route('/classification_level', auth="public", methods=['POST'], csrf=False)[m[41m[m
[32m+[m[32m    @authenticate[m[41m[m
[32m+[m[32m    def create_level(self, **kwargs):[m[41m[m
[32m+[m[32m        try:[m[41m[m
[32m+[m[32m            request_data = json.loads(request.httprequest.data.decode("utf-8"))[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            name = request_data.get('name')[m[41m[m
[32m+[m[32m            level_value = request_data.get('level')[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if not all([name, level_value]):[m[41m[m
[32m+[m[32m                return Response("Bad Request: name and level are required", status=400)[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            check_level_exist = request.env['classification_level'].search([('name', '=', name)])[m[41m[m
[32m+[m[32m            if check_level_exist:[m[41m[m
[32m+[m[32m                return Response(f"level with this name ({name}) is already exist!", status=400)[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            new_level = request.env['classification_level'].create({[m[41m[m
[32m+[m[32m                'name': name,[m[41m[m
[32m+[m[32m                'level': str(level_value),[m[41m[m
[32m+[m[32m            })[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            response = json.dumps({'id': new_level.id, 'name': new_level.name, 'level': new_level.level})[m[41m[m
[32m+[m[32m            return Response(response, content_type="application/json")[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        except Exception as e:[m[41m[m
[32m+[m[32m            return Response(f"There is error occured: {str(e)}", status=500)[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m    @http.route('/classification_level/<int:level_id>', auth="public", methods=['PUT'], csrf=False)[m[41m[m
[32m+[m[32m    @authenticate[m[41m[m
[32m+[m[32m    def update_level(self, level_id, **kwargs):[m[41m[m
[32m+[m[32m        try:[m[41m[m
[32m+[m[32m            # æ ¹æ“š ID ç²å–è¨˜éŒ„[m[41m[m
[32m+[m[32m            level = request.env['classification_level'].browse(level_id)[m[41m[m
[32m+[m[32m            if not level.exists():[m[41m[m
[32m+[m[32m                return Response("Record not found", status=404)[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            # è§£æè«‹æ±‚æ•¸æ“š[m[41m[m
[32m+[m[32m            updated_data = json.loads(request.httprequest.data.decode("utf-8"))[m[41m[m
[32m+[m[32m            name = updated_data.get('name')[m[41m[m
[32m+[m[32m            level_value = updated_data.get('level')[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            # æ›´æ–°è¨˜éŒ„[m[41m[m
[32m+[m[32m            level.write({[m[41m[m
[32m+[m[32m                'name': name,[m[41m[m
[32m+[m[32m                'level': level_value  # ç¢ºä¿ level æ˜¯æ­£ç¢ºçš„å€¼[m[41m[m
[32m+[m[32m            })[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            # æ§‹å»ºéŸ¿æ‡‰æ•¸æ“š[m[41m[m
[32m+[m[32m            response_data = {[m[41m[m
[32m+[m[32m                'id': level.id,[m[41m[m
[32m+[m[32m                'name': level.name,[m[41m[m
[32m+[m[32m                'level': level.level[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            response = json.dumps(response_data)[m[41m[m
[32m+[m[32m            return Response(response, content_type="application/json")[m[41m[m
[32m+[m[32m        except Exception as e:[m[41m[m
[32m+[m[32m            return Response(f"There is error occurred: {str(e)}", status=500)[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m    @http.route('/classification_level/<int:level_id>', auth="public", methods=['DELETE'], csrf=False)[m[41m[m
[32m+[m[32m    @authenticate[m[41m[m
[32m+[m[32m    def delete_level(self, level_id, **kwargs):[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        # æ ¹æ“š ID ç²å–è¨˜éŒ„[m[41m[m
[32m+[m[32m        level = request.env['classification_level'].browse(level_id)[m[41m[m
[32m+[m[32m        level.unlink()[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        response_data = {[m[41m[m
[32m+[m[32m            'id': level.id,[m[41m[m
[32m+[m[32m            'message':f"ç·¨è™Ÿ #{level.id} ç¼ºå¤±ç­‰ç´šå·²åˆªé™¤"[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m            [m
[32m+[m[41m           [m
[32m+[m[32m        return Response(json.dumps(response_data), content_type="application/json")[m[41m[m
[1mdiff --git a/custom_employee_badge/__init__.py b/custom_employee_badge/__init__.py[m
[1mdeleted file mode 100644[m
[1mindex 52980b4..0000000[m
[1m--- a/custom_employee_badge/__init__.py[m
[1m+++ /dev/null[m
[36m@@ -1 +0,0 @@[m
[31m-# from . import models[m
\ No newline at end of file[m
[1mdiff --git a/custom_employee_badge/__manifest__.py b/custom_employee_badge/__manifest__.py[m
[1mdeleted file mode 100644[m
[1mindex 026eb17..0000000[m
[1m--- a/custom_employee_badge/__manifest__.py[m
[1m+++ /dev/null[m
[36m@@ -1,13 +0,0 @@[m
[31m-{[m
[31m-    'name': 'Custom Vertical Employee Badge ç›´å‘è­˜åˆ¥è­‰',[m
[31m-    'version': '17.0.1.0',[m
[31m-    'category': 'Human Resources',[m
[31m-    'summary': 'Customizes employee badge to vertical layout',[m
[31m-    'depends': ['hr'],[m
[31m-    'data': [[m
[31m-        'views/report_employee_badge_vertical.xml',[m
[31m-    ],[m
[31m-    [m
[31m-    'installable': True,[m
[31m-    'application': False,[m
[31m-}[m
[1mdiff --git a/custom_employee_badge/__pycache__/__init__.cpython-310.pyc b/custom_employee_badge/__pycache__/__init__.cpython-310.pyc[m
[1mdeleted file mode 100644[m
[1mindex a5938ba..0000000[m
Binary files a/custom_employee_badge/__pycache__/__init__.cpython-310.pyc and /dev/null differ
[1mdiff --git a/custom_employee_badge/views/report_employee_badge_vertical.xml b/custom_employee_badge/views/report_employee_badge_vertical.xml[m
[1mdeleted file mode 100644[m
[1mindex 60bc058..0000000[m
[1m--- a/custom_employee_badge/views/report_employee_badge_vertical.xml[m
[1m+++ /dev/null[m
[36m@@ -1,59 +0,0 @@[m
[31m-<?xml version="1.0" encoding="UTF-8"?>[m
[31m-<odoo>[m
[31m-    <template id="print_employee_badge_corrected" inherit_id="hr.print_employee_badge">[m
[31m-        <xpath expr="." position="replace">[m
[31m-            <t t-name="hr.print_employee_badge">[m
[31m-                <t t-call="web.basic_layout">[m
[31m-                    <div class="page">[m
[31m-                        <t t-foreach="docs" t-as="employee">[m
[31m-                            <div class="col-md-6">[m
[31m-                                <table style="width:190pt; height:295pt; border: 1pt solid black; border-collapse:separate; border-radius:8pt; margin:1pt">[m
[31m-                                    <!-- Logo å€åŸŸ -->[m
[31m-                                    <tr style="height:25%"> <!-- è°ƒæ•´ Logo åŒºåŸŸé«˜åº¦ -->[m
[31m-                                        <td align="center" valign="center">[m
[31m-                                            <span t-if="employee.company_id.logo">[m
[31m-                                                <img t-att-src="image_data_uri(employee.company_id.logo)" style="max-height:50pt;max-width:90%; margin-top:5pt;" alt="Company Logo"/> <!-- è°ƒæ•´ Logo çš„ margin-top ä»¥å‘ä¸‹ç§»åŠ¨ -->[m
[31m-                                            </span>[m
[31m-                                        </td>[m
[31m-                                    </tr>[m
[31m-                                    <!-- å“¡å·¥ç…§ç‰‡ -->[m
[31m-                                    <tr style="height:40%;"> <!-- å¢åŠ ç…§ç‰‡åŒºåŸŸçš„é«˜åº¦æ¯”ä¾‹ -->[m
[31m-                                        <td align="center" valign="top">[m
[31m-                                            <img t-att-src="image_data_uri(employee.image_1920)" style="max-height:110pt;max-width:100%; margin-top:0pt" alt="Employee Image"/> <!-- è°ƒæ•´ç…§ç‰‡å¤§å° -->[m
[31m-                                        </td>[m
[31m-                                    </tr>[m
[31m-                                    <!-- å“¡å·¥å§“åå’Œè·ä½ -->[m
[31m-                                    <tr style="height:15%">[m
[31m-                                        <td align="center">[m
[31m-                                            <div style="font-size:14pt; margin-bottom:2pt;" align="center">[m
[31m-                                                <span t-field="employee.name"/>[m
[31m-                                            </div>[m
[31m-                                            <div align="center" style="font-size:10pt;">[m
[31m-                                                <span t-field="employee.job_title"/>[m
[31m-                                            </div>[m
[31m-                                        </td>[m
[31m-                                    </tr>[m
[31m-                                    <!-- æ¢ç¢¼ -->[m
[31m-                                    <tr style="height:30%">[m
[31m-                                        <td align="center" valign="bottom">[m
[31m-                                            <div t-if="employee.barcode" [m
[31m-                                                    t-field="employee.barcode" [m
[31m-                                                    t-options="{[m
[31m-                                                    'widget': 'barcode', [m
[31m-                                                    'type': 'Code128',[m
[31m-                                                    'width': 1600, [m
[31m-                                                    'height': 300, [m
[31m-                                                    'img_style': 'max-height:70pt; max-width:100%; width:100% !important;', [m
[31m-                                                    'img_align': 'center'[m
[31m-                                                }"/>[m
[31m-                                        </td>[m
[31m-                                    </tr>[m
[31m-                                </table>[m
[31m-                            </div>[m
[31m-                        </t>[m
[31m-                    </div>[m
[31m-                </t>[m
[31m-            </t>[m
[31m-        </xpath>[m
[31m-    </template>[m
[31m-</odoo>[m
\ No newline at end of file[m
[1mdiff --git a/data/res_users_data.xml b/data/res_users_data.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..7a1fffc[m
[1m--- /dev/null[m
[1m+++ b/data/res_users_data.xml[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m[41m[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <record id="field_res_users_auth_token" model="ir.model.fields">[m[41m[m
[32m+[m[32m        <field name="name">auth_token</field>[m[41m[m
[32m+[m[32m        <field name="model">res.users</field>[m[41m[m
[32m+[m[32m        <field name="field_description">Authentication Token</field>[m[41m[m
[32m+[m[32m        <field name="ttype">char</field>[m[41m[m
[32m+[m[32m    </record>[m[41m[m
[32m+[m[32m</odoo>[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/New_res_partner/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier b/data/res_users_data.xml:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1mrename to data/res_users_data.xml:Zone.Identifier[m
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner.cpython-310.pyc:Zone.Identifier b/data/res_users_data.xml:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/new_res_partner.cpython-310.pyc:Zone.Identifier[m
[1mrename to data/res_users_data.xml:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/custom_employee_badge/views/report_employee_badge_vertical.xml:Zone.Identifier b/data/res_users_data.xml:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from custom_employee_badge/views/report_employee_badge_vertical.xml:Zone.Identifier[m
[1mrename to data/res_users_data.xml:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__init__.py b/models/__init__.py[m
[1mnew file mode 100644[m
[1mindex 0000000..6b3a396[m
[1m--- /dev/null[m
[1m+++ b/models/__init__.py[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mfrom . import htpoc_missingrecords[m[41m[m
[32m+[m[32mfrom . import htpoc_missingrecords_type[m[41m[m
[32m+[m[32mfrom . import htpoc_classification[m[41m[m
[32m+[m[32mfrom . import classification_level[m[41m[m
[32m+[m[32mfrom . import beforeafterimage[m[41m[m
[32m+[m[32mfrom . import users[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/models/__pycache__/__init__.cpython-310.pyc b/models/__pycache__/__init__.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..2d0f727[m
Binary files /dev/null and b/models/__pycache__/__init__.cpython-310.pyc differ
[1mdiff --git a/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier b/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_category_id.cpython-310.pyc:Zone.Identifier b/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/new_res_partner_category_id.cpython-310.pyc:Zone.Identifier[m
[1mrename to models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_company.cpython-310.pyc:Zone.Identifier b/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/new_res_partner_company.cpython-310.pyc:Zone.Identifier[m
[1mrename to models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier b/models/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/models/__pycache__/beforeafterimage.cpython-310.pyc b/models/__pycache__/beforeafterimage.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..1fc76c3[m
Binary files /dev/null and b/models/__pycache__/beforeafterimage.cpython-310.pyc differ
[1mdiff --git a/models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier b/models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_function.cpython-310.pyc:Zone.Identifier b/models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/new_res_partner_function.cpython-310.pyc:Zone.Identifier[m
[1mrename to models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_safety.cpython-310.pyc:Zone.Identifier b/models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/new_res_partner_safety.cpython-310.pyc:Zone.Identifier[m
[1mrename to models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier b/models/__pycache__/beforeafterimage.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/models/__pycache__/classification_level.cpython-310.pyc b/models/__pycache__/classification_level.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..adcc616[m
Binary files /dev/null and b/models/__pycache__/classification_level.cpython-310.pyc differ
[1mdiff --git a/models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier b/models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_title.cpython-310.pyc:Zone.Identifier b/models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/new_res_partner_title.cpython-310.pyc:Zone.Identifier[m
[1mrename to models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/New_res_partner/models/__pycache__/new_res_partner_work_type.cpython-310.pyc:Zone.Identifier b/models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/__pycache__/new_res_partner_work_type.cpython-310.pyc:Zone.Identifier[m
[1mrename to models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier b/models/__pycache__/classification_level.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/models/__pycache__/htpoc_classification.cpython-310.pyc b/models/__pycache__/htpoc_classification.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..25bbcf5[m
Binary files /dev/null and b/models/__pycache__/htpoc_classification.cpython-310.pyc differ
[1mdiff --git a/models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier b/models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/New_res_partner/models/new_res_partner.py:Zone.Identifier b/models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/new_res_partner.py:Zone.Identifier[m
[1mrename to models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/New_res_partner/models/new_res_partner_company.py:Zone.Identifier b/models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/new_res_partner_company.py:Zone.Identifier[m
[1mrename to models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier b/models/__pycache__/htpoc_classification.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/models/__pycache__/htpoc_missingrecords.cpython-310.pyc b/models/__pycache__/htpoc_missingrecords.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..63f8520[m
Binary files /dev/null and b/models/__pycache__/htpoc_missingrecords.cpython-310.pyc differ
[1mdiff --git a/models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier b/models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/New_res_partner/models/new_res_partner_function.py:Zone.Identifier b/models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/new_res_partner_function.py:Zone.Identifier[m
[1mrename to models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/New_res_partner/models/new_res_partner_work_type.py:Zone.Identifier b/models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/models/new_res_partner_work_type.py:Zone.Identifier[m
[1mrename to models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier b/models/__pycache__/htpoc_missingrecords.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc b/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..bfc6ce7[m
Binary files /dev/null and b/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc differ
[1mdiff --git a/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier b/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/New_res_partner/security/ir.model.access.csv:Zone.Identifier b/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/security/ir.model.access.csv:Zone.Identifier[m
[1mrename to models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/New_res_partner/static/src/css/custom_styles.css:Zone.Identifier b/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/static/src/css/custom_styles.css:Zone.Identifier[m
[1mrename to models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier b/models/__pycache__/htpoc_missingrecords_type.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/models/__pycache__/users.cpython-310.pyc b/models/__pycache__/users.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..07222df[m
Binary files /dev/null and b/models/__pycache__/users.cpython-310.pyc differ
[1mdiff --git a/New_res_partner/views/new_res_partner_company_view.xml:Zone.Identifier b/models/__pycache__/users.cpython-310.pyc:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/views/new_res_partner_company_view.xml:Zone.Identifier[m
[1mrename to models/__pycache__/users.cpython-310.pyc:Zone.Identifier[m
[1mdiff --git a/New_res_partner/views/new_res_partner_function_view.xml:Zone.Identifier b/models/__pycache__/users.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/views/new_res_partner_function_view.xml:Zone.Identifier[m
[1mrename to models/__pycache__/users.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/models/__pycache__/users.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier b/models/__pycache__/users.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/models/beforeafterimage.py b/models/beforeafterimage.py[m
[1mnew file mode 100644[m
[1mindex 0000000..e13a8b5[m
[1m--- /dev/null[m
[1m+++ b/models/beforeafterimage.py[m
[36m@@ -0,0 +1,32 @@[m
[32m+[m[41m[m
[32m+[m[32mfrom odoo import fields, models[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass beforeafterimage(models.Model):[m[41m[m
[32m+[m[32m    _name = "beforeafterimage"[m[41m[m
[32m+[m[32m    _description = "Before & After Image"[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    name = fields.Text(string='æ”¹å–„å‰èªªæ˜', required=True)[m[41m[m
[32m+[m[32m    photo_before = fields.Binary(string='æ”¹å–„å‰ç…§ç‰‡')[m[41m[m
[32m+[m[32m    name2 = fields.Text(string='æ”¹å–„å¾Œèªªæ˜', required=True)[m[41m[m
[32m+[m[32m    photo_after = fields.Binary(string='æ”¹å–„å¾Œç…§ç‰‡')[m[41m[m
[32m+[m[32m    missing_record_id = fields.Many2one('htpoc.missingrecords', string='Missing Record')[m[41m[m
[32m+[m[32m    # b_description = fields.Text(help="è«‹å¯«ä¸‹æ”¹å–„ç…§ç‰‡èªªæ˜", string="æ”¹å–„å‰ç…§ç‰‡èªªæ˜")[m[41m[m
[32m+[m[32m    # a_description = fields.Text(help="è«‹å¯«ä¸‹æ”¹å–„ç…§ç‰‡èªªæ˜", string="æ”¹å–„å¾Œç…§ç‰‡èªªæ˜")[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    def action_save_and_close(self):[m[41m[m
[32m+[m[32m        return {'type': 'ir.actions.act_window_close'}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def action_save_and_new(self):[m[41m[m
[32m+[m[32m        return {[m[41m[m
[32m+[m[32m            'type': 'ir.actions.act_window',[m[41m[m
[32m+[m[32m            'res_model': 'beforeafterimage',[m[41m[m
[32m+[m[32m            'view_mode': 'form',[m[41m[m
[32m+[m[32m            'view_type': 'form',[m[41m[m
[32m+[m[32m            'target': 'new',[m[41m[m
[32m+[m[32m            'context': {'form_view_initial_mode': 'edit'},[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/models/classification_level.py b/models/classification_level.py[m
[1mnew file mode 100644[m
[1mindex 0000000..6b2ad3a[m
[1m--- /dev/null[m
[1m+++ b/models/classification_level.py[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mfrom odoo import models, fields[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass HtpocClassification(models.Model):[m[41m[m
[32m+[m[32m    _name = "classification_level"[m[41m[m
[32m+[m[32m    _description = "Classification Level"[m[41m[m
[32m+[m[32m    _order = "sequence, name"[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    name = fields.Text(string="ç¼ºå¤±ç­‰ç´šä»£è™Ÿ", required=True)[m[41m[m
[32m+[m[32m    sequence = fields.Integer(string="Sequence", default=10)[m[41m[m
[32m+[m[32m    description = fields.Text(string="ç¼ºå¤±ç­‰ç´šèªªæ˜")[m[41m[m
[32m+[m[32m    level = fields.Text(string="ç¼ºå¤±ç­‰ç´šåˆ†é¡èªªæ˜")[m[41m [m
\ No newline at end of file[m
[1mdiff --git a/models/htpoc_classification.py b/models/htpoc_classification.py[m
[1mnew file mode 100644[m
[1mindex 0000000..2c12f69[m
[1m--- /dev/null[m
[1m+++ b/models/htpoc_classification.py[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mfrom odoo import models, fields[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass HtpocClassification(models.Model):[m[41m[m
[32m+[m[32m    _name = "htpoc.classification"[m[41m[m
[32m+[m[32m    _description = "Htpoc Classification"[m[41m[m
[32m+[m[32m    _order = "sequence, name"[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    name = fields.Char(string="ç¼ºå¤±ç­‰ç´šåˆ†é¡", required=True)[m[41m[m
[32m+[m[32m    sequence = fields.Integer(string="Sequence", default=10)[m[41m[m
[32m+[m[32m    description = fields.Text(string="ç¼ºå¤±ç­‰ç´šåˆ†é¡")[m[41m[m
[32m+[m[32m    color = fields.Char(string="ç¼ºå¤±åˆ†é¡é¡è‰²")  # Char field for storing emoji color[m
\ No newline at end of file[m
[1mdiff --git a/models/htpoc_missingrecords.py b/models/htpoc_missingrecords.py[m
[1mnew file mode 100644[m
[1mindex 0000000..ed7eeda[m
[1m--- /dev/null[m
[1m+++ b/models/htpoc_missingrecords.py[m
[36m@@ -0,0 +1,168 @@[m
[32m+[m[32mfrom odoo import models, fields,api[m[41m[m
[32m+[m[32mfrom odoo.exceptions import UserError[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass HtpocMissingRecords(models.Model):[m[41m[m
[32m+[m[32m    _name = 'htpoc.missingrecords'[m[41m[m
[32m+[m[32m    _inherit = ['mail.thread', 'mail.activity.mixin'][m[41m[m
[32m+[m[32m    _description = 'Missing Records'[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    brief = fields.Char(string='ç¼ºå¤±ç°¡è¿°', required=True)[m[41m[m
[32m+[m[32m    test123 = fields.Char(string='test123', required=True)[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    contact = fields.Many2one("res.partner", string="è¯çµ¡äºº", copy=False)[m[41m[m
[32m+[m[32m    company = fields.Many2one("res.partner", string='å…¬å¸åç¨±',  readonly=True)[m[41m[m
[32m+[m[32m    principal = fields.Many2one("res.partner", string="è² è²¬äºº")[m[41m[m
[32m+[m[32m    phone = fields.Char(string="é€£çµ¡é›»è©±")[m[41m[m
[32m+[m[32m    email = fields.Char(string="é›»å­ä¿¡ç®±")[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    floor = fields.Char(string='æ¨“å±¤')[m[41m[m
[32m+[m[32m    pillar = fields.Char(string='æŸ±ä½')[m[41m[m
[32m+[m[32m    feeback = fields.Char(string='å›å ±')[m[41m[m
[32m+[m[32m    cycle = fields.Char(string='é€±æœŸ')[m[41m[m
[32m+[m[32m    state = fields.Selection([[m[41m[m
[32m+[m[32m        ('initiate', 'ç™¼èµ·ç¼ºå¤±ç´€éŒ„'),[m[41m[m
[32m+[m[32m        ('in_process', 'ç¼ºå¤±è™•ç†ä¸­'),[m[41m[m
[32m+[m[32m        ('completed', 'å·²å®Œæˆ'),[m[41m[m
[32m+[m[32m        ('cancel', "å·²å–æ¶ˆ")[m[41m[m
[32m+[m[32m    ], string='ç‹€æ…‹', default='initiate')[m[41m[m
[32m+[m[32m    system_name = fields.Many2one("htpoc.missingrecords.type", string="ç³»çµ±")[m[41m[m
[32m+[m[32m    main_contractor = fields.Many2one('new.res.partner.company', string="ä¸»æ‰¿æ”¬å•†") #ä¸»æ‰¿æ”¬å•†[m[41m[m
[32m+[m[32m    deputy_contractor = fields.Many2one('new.res.partner.company',string="å‰¯æ‰¿æ”¬å•†") #å‰¯æ‰¿æ”¬å•†[m[41m[m
[32m+[m[32m    security_person = fields.Many2one('res.partner', string="å·¥å®‰äººå“¡", domain=[('category_id', '=', 'å·¥å®‰äººå“¡')]) #å·¥å®‰äººå“¡[m[41m[m
[32m+[m[32m    security_person_tel = fields.Char(related='security_person.phone',string="å·¥å®‰äººå“¡é›»è©±") #å·¥å®‰äººå“¡é›»è©±[m[41m[m
[32m+[m[32m    create_date = fields.Datetime(string="ç¬¬ä¸€æ¬¡ç´€éŒ„çš„æ™‚é–“", readonly=True)  # ç¬¬ä¸€æ¬¡ç´€éŒ„çš„æ™‚é–“[m[41m[m
[32m+[m[32m    write_date = fields.Datetime(string="æœ€å¾Œæ›´æ–°è¡¨å–®çš„æ™‚é–“", readonly=True)  # æœ€å¾Œæ›´æ–°è¡¨å–®çš„æ™‚é–“[m[41m[m
[32m+[m[32m    record_date = fields.Datetime("è¨˜éŒ„æ—¥æœŸæ™‚é–“", default=fields.Datetime.now)  # è¨˜éŒ„æ—¥æœŸæ™‚é–“[m[41m[m
[32m+[m[32m    message_ids = fields.One2many('mail.message', 'res_id', string='ç™¼é€è¨Šæ¯', domain=lambda self: [('model', '=', self._name)], auto_join=True)[m[41m[m
[32m+[m[32m    activity_ids = fields.One2many('mail.activity', 'res_id', string='æ´»å‹•', domain=lambda self: [('res_model', '=', self._name)], auto_join=True)[m[41m[m
[32m+[m[32m    classification = fields.Many2one("htpoc.classification", string="ç¼ºå¤±åˆ†é¡")[m[41m[m
[32m+[m[32m    classification_color = fields.Char(related='classification.color',string="åˆ†é¡é¡è‰²")[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    classification_level = fields.Many2one("classification_level", string="ç¼ºå¤±ç­‰ç´šä»£è™Ÿ")[m[41m[m
[32m+[m[32m    classification_common = fields.Text(related='classification_level.level', string="ç¼ºå¤±ç­‰ç´šèªªæ˜") #ç¼ºå¤±ç­‰ç´šèªªæ˜[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    penalties = fields.Text(help='Please enter manually', string="ç½°å‰‡") #ç½°å‰‡[m[41m[m
[32m+[m[32m    improve = fields.Text(help='Record of immediate improvement measures on site', string="ç¾å ´ç«‹å³æ”¹å–„æªæ–½") #ç¾å ´ç«‹å³æ”¹å–„æªæ–½[m[41m[m
[32m+[m[32m    improveDT = fields.Text(help='Immediate on-site improvement measures recording Datetime', string="æ”¹å–„æªæ–½åŠæ™‚é–“")  #ç¾å ´ç«‹å³æ”¹å–„æªæ–½[m[41m[m
[32m+[m[32m    sign = fields.Binary(string='ç¼ºå¤±äººå“¡ç°½å') #ç°½å[m[41m[m
[32m+[m[32m    sign2 = fields.Binary(string='é©—æ”¶äººå“¡ç°½å') #ç°½å[m[41m[m
[32m+[m[32m    empty = fields.Char(string="")[m[41m[m
[32m+[m[32m    content = fields.Text(help='è©³ç´°ç¼ºå¤±å…§å®¹è¨˜éŒ„', string="è©³ç´°ç¼ºå¤±å…§å®¹") #è©³ç´°ç¼ºå¤±å…§å®¹[m[41m[m
[32m+[m[32m    improvement_record_ids = fields.One2many('beforeafterimage', 'missing_record_id', string="æ”¹å–„ç´€éŒ„")[m[41m[m
[32m+[m[32m    # product_id = fields.Many2one('product.product', string='Product', required=True)[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m[m
[32m+[m[32m    ######## state ç‹€æ…‹è®Šæ›´å®šç¾©  #########[m[41m[m
[32m+[m[32m    @api.onchange('record_date', 'sign', 'sign2')[m[41m[m
[32m+[m[32m    def _onchange_fields(self):[m[41m[m
[32m+[m[32m        for record in self:[m[41m[m
[32m+[m[32m            if record.create_date and not record.sign and not record.sign2:[m[41m[m
[32m+[m[32m                record.state = 'initiate'[m[41m[m
[32m+[m[32m            if record.sign and not record.sign2:[m[41m[m
[32m+[m[32m                record.state = 'in_process'[m[41m[m
[32m+[m[32m            if record.sign2:[m[41m[m
[32m+[m[32m                record.state = 'completed'[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def write(self, vals):[m[41m[m
[32m+[m[32m        if 'record_date' in vals:[m[41m[m
[32m+[m[32m            vals['create_date'] = vals.get('record_date', fields.Datetime.now())[m[41m[m
[32m+[m[32m            vals['state'] = 'initiate'[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        if 'sign' in vals and vals['sign']:[m[41m[m
[32m+[m[32m            vals['state'] = 'in_process'[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        if 'sign2' in vals and vals['sign2']:[m[41m[m
[32m+[m[32m            vals['state'] = 'completed'[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        return super(HtpocMissingRecords, self).write(vals)[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m[m
[32m+[m[32m    # éƒµä»¶å¯„é€æ–¹æ³•[m[41m[m
[32m+[m[32m    @api.model[m[41m[m
[32m+[m[32m    def create(self, vals):[m[41m[m
[32m+[m[32m        if 'record_date' in vals:[m[41m[m
[32m+[m[32m            vals['create_date'] = vals.get('record_date', fields.Datetime.now())[m[41m[m
[32m+[m[32m            vals['state'] = 'initiate'[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        record = super(HtpocMissingRecords, self).create(vals)[m[41m[m
[32m+[m[32m        record._log_state_change()[m[41m[m
[32m+[m[32m        return record[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    # æ·»åŠ å‰µå»ºè€…ç‚ºé—œæ³¨è€…[m[41m[m
[32m+[m[32m    def create(self, vals):[m[41m[m
[32m+[m[32m        record = super(HtpocMissingRecords, self).create(vals)[m[41m[m
[32m+[m[32m        if self.env.user.partner_id:[m[41m[m
[32m+[m[32m            record.message_subscribe(partner_ids=[self.env.user.partner_id.id])[m[41m[m
[32m+[m[32m        return record[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    # åœ¨ç‹€æ…‹è®ŠåŒ–æ™‚é€šçŸ¥é—œæ³¨è€…[m[41m[m
[32m+[m[32m    def write(self, vals):[m[41m[m
[32m+[m[32m        res = super(HtpocMissingRecords, self).write(vals)[m[41m[m
[32m+[m[32m        if 'state' in vals:[m[41m[m
[32m+[m[32m            message = f"ç‹€æ…‹è®Šæ›´ç‚º: {dict(self._fields['state'].selection).get(vals['state'])}"[m[41m[m
[32m+[m[32m            self.message_post(body=message, subtype_xmlid='mail.mt_note')[m[41m[m
[32m+[m[32m        return res[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m[m
[32m+[m[32m    # è‡ªå‹•å°‡ç•¶å‰ç”¨æˆ¶æ·»åŠ ç‚ºé—œæ³¨è€…[m[41m[m
[32m+[m[32m    def create(self, values):[m[41m[m
[32m+[m[32m        record = super().create(values)[m[41m[m
[32m+[m[32m        user_partner_id = self.env.user.partner_id[m[41m[m
[32m+[m[32m        if user_partner_id:[m[41m[m
[32m+[m[32m            record.message_subscribe([user_partner_id.id])[m[41m[m
[32m+[m[32m        return record[m[41m[m
[32m+[m[32m    def create(self, vals):[m[41m[m
[32m+[m[32m        record = super(HtpocMissingRecords, self).create(vals)[m[41m[m
[32m+[m[32m        if self.env.user.partner_id:[m[41m[m
[32m+[m[32m            record.message_subscribe(partner_ids=[self.env.user.partner_id.id])[m[41m[m
[32m+[m[32m        return record[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m[m
[32m+[m[32m    #ç‹€æ…‹è®Šæ›´é€šçŸ¥[m[41m[m
[32m+[m[32m    def write(self, vals):[m[41m[m
[32m+[m[32m        old_state = self.state[m[41m[m
[32m+[m[32m        res = super(HtpocMissingRecords, self).write(vals)[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        # Only log if state changes[m[41m[m
[32m+[m[32m        if 'state' in vals and vals['state'] != old_state:[m[41m[m
[32m+[m[32m            self._log_state_change()[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        return res[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def _log_state_change(self):[m[41m[m
[32m+[m[32m        for record in self:[m[41m[m
[32m+[m[32m            message = f"ç‹€æ…‹è®Šæ›´ç‚º: {dict(self._fields['state'].selection).get(record.state)}"[m[41m[m
[32m+[m[32m            record.message_post(body=message, subtype_xmlid='mail.mt_note')[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    # è‡ªå‹•å¸¶å‡ºè¯çµ¡äººè¯çµ¡æ–¹æ³•[m[41m[m
[32m+[m[32m    @api.onchange('contact')[m[41m[m
[32m+[m[32m    def _onchange_contact(self):[m[41m[m
[32m+[m[32m        if self.contact:[m[41m[m
[32m+[m[32m            self.phone = self.contact.phone[m[41m[m
[32m+[m[32m            self.email = self.contact.email[m[41m[m
[32m+[m[32m            self.security_person = self.contact.industrial_safety_personnel[m[41m[m
[32m+[m[32m            if self.security_person:[m[41m[m
[32m+[m[32m                self.security_person_tel = self.security_person.mobile[m[41m[m
[32m+[m[32m    @api.depends('security_person')[m[41m[m
[32m+[m[32m    def _compute_security_person_tel(self):[m[41m[m
[32m+[m[32m        for record in self:[m[41m[m
[32m+[m[32m            if record.security_person:[m[41m[m
[32m+[m[32m                record.security_person_tel = record.security_person.mobile[m[41m [m
[32m+[m[41m[m
[32m+[m[32m    #è¯çµ¡äººè®Šæ›´æ™‚è‡ªå‹•å¸¶å‡ºç›¸é—œè³‡è¨Š[m[41m[m
[32m+[m[32m    @api.onchange('contact')[m[41m[m
[32m+[m[32m    def _onchange_contact(self):[m[41m[m
[32m+[m[32m        if self.contact:[m[41m[m
[32m+[m[32m            # å¡«å……å°æ‡‰æ¬„ä½[m[41m[m
[32m+[m[32m            self.company = self.contact.parent_id  # æ ¹æ“š parent_id å¡«å……å…¬å¸[m[41m[m
[32m+[m[32m            self.principal = self.contact.parent_id[m[41m[m
[32m+[m[32m            self.phone = self.contact.phone[m[41m[m
[32m+[m[32m            self.email = self.contact.email[m[41m[m
[32m+[m[32m        else:[m[41m[m
[32m+[m[32m            self.company = False[m[41m[m
[32m+[m[32m            self.principal = False[m[41m[m
[32m+[m[32m            self.phone = ''[m[41m[m
[32m+[m[32m            self.email = ''[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m
\ No newline at end of file[m
[1mdiff --git a/models/htpoc_missingrecords_type.py b/models/htpoc_missingrecords_type.py[m
[1mnew file mode 100644[m
[1mindex 0000000..26a4a1a[m
[1m--- /dev/null[m
[1m+++ b/models/htpoc_missingrecords_type.py[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32mfrom odoo import models, fields[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass HtpocMissingRecordsType(models.Model):[m[41m[m
[32m+[m[32m    _name = "htpoc.missingrecords.type"[m[41m[m
[32m+[m[32m    _description = "Htpoc Missingrecords Type ç³»çµ±"[m[41m[m
[32m+[m[32m    _order = "sequence, name"[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    name = fields.Char(string="ç³»çµ±åç¨±", required=True)[m[41m[m
[32m+[m[32m    sequence = fields.Integer("Sequence", default=10)[m[41m[m
[32m+[m[32m    description = fields.Text(string="èªªæ˜")[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    # system_ids=fields.One2many("htpoc.missingrecords","system_name", string="ç³»çµ±")[m[41m[m
[1mdiff --git a/models/users.py b/models/users.py[m
[1mnew file mode 100644[m
[1mindex 0000000..30ac932[m
[1m--- /dev/null[m
[1m+++ b/models/users.py[m
[36m@@ -0,0 +1,24 @@[m
[32m+[m[32mimport uuid[m[41m[m
[32m+[m[32mfrom odoo import models, fields, api[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass ResUsers(models.Model):[m[41m[m
[32m+[m	[32m_inherit = "res.users"[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mauth_token = fields.Char(string="Authentication Token", copy=False)[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m@api.model[m[41m[m
[32m+[m	[32mdef create(self, vals):[m[41m[m
[32m+[m		[32mvals['auth_token'] = self._auth_token_generator()[m[41m[m
[32m+[m		[32mreturn super(ResUsers, self).create(vals)[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mdef generate_auth_token(self):[m[41m[m
[32m+[m		[32mfor user in self:[m[41m[m
[32m+[m			[32muser.auth_token = self._auth_token_generator()[m[41m[m
[32m+[m		[32mreturn True[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mdef _auth_token_generator(self):[m[41m[m
[32m+[m		[32mreturn str(uuid.uuid4())[m[41m[m
[32m+[m[41m[m
[32m+[m[41m        [m
[32m+[m[41m        [m
\ No newline at end of file[m
[1mdiff --git a/security/ir.model.access.csv b/security/ir.model.access.csv[m
[1mnew file mode 100644[m
[1mindex 0000000..bcd1b15[m
[1m--- /dev/null[m
[1m+++ b/security/ir.model.access.csv[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32mid,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink[m[41m[m
[32m+[m[32maccess_htpoc_missingrecords,access_htpoc_missingrecords,model_htpoc_missingrecords,base.group_user,1,1,1,1[m[41m[m
[32m+[m[32maccess_htpoc_missingrecords_type,access_htpoc_missingrecords_type,model_htpoc_missingrecords_type,base.group_user,1,1,1,1[m[41m[m
[32m+[m[32maccess_htpoc_classification,access_htpoc_classification,model_htpoc_classification,base.group_user,1,1,1,1[m[41m[m
[32m+[m[32maccess_classification_level,access_classification_level,model_classification_level,base.group_user,1,1,1,1[m[41m[m
[32m+[m[32maccess_beforeafterimage,access_beforeafterimage,model_beforeafterimage,base.group_user,1,1,1,1[m[41m[m
[1mdiff --git a/static/description/icon.png b/static/description/icon.png[m
[1mnew file mode 100644[m
[1mindex 0000000..d9007b2[m
Binary files /dev/null and b/static/description/icon.png differ
[1mdiff --git a/tests/__init__.py b/tests/__init__.py[m
[1mnew file mode 100644[m
[1mindex 0000000..5eee619[m
[1m--- /dev/null[m
[1m+++ b/tests/__init__.py[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mfrom . import test_htpoc_missingrecords_level,test_missingrecords_level_api[m
\ No newline at end of file[m
[1mdiff --git a/tests/test_htpoc_missingrecords_level.py b/tests/test_htpoc_missingrecords_level.py[m
[1mnew file mode 100644[m
[1mindex 0000000..0e6891b[m
[1m--- /dev/null[m
[1m+++ b/tests/test_htpoc_missingrecords_level.py[m
[36m@@ -0,0 +1,66 @@[m
[32m+[m[32mfrom odoo.tests import TransactionCase[m[41m[m
[32m+[m[32mfrom odoo.exceptions import ValidationError[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass TestClassificationLevel(TransactionCase):[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def setUp(self):[m[41m[m
[32m+[m[32m        super(TestClassificationLevel, self).setUp()[m[41m[m
[32m+[m[32m        self.classification_level_model = self.env['classification_level'][m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def test_create_level(self):[m[41m[m
[32m+[m[32m        level_data = {[m[41m[m
[32m+[m[32m            'name': 'LEVEL 001',[m[41m[m
[32m+[m[32m            'sequence': 10,[m[41m[m
[32m+[m[32m            'description': 'ç¼ºå¤±ç­‰ç´šèªªæ˜',[m[41m[m
[32m+[m[32m            'level': 'ç¼ºå¤±ç­‰ç´šåˆ†é¡èªªæ˜',[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m        classification = self.classification_level_model.create(level_data)[m[41m[m
[32m+[m[32m        self.assertEqual(classification.name, 'LEVEL 001')[m[41m[m
[32m+[m[32m        self.assertEqual(classification.sequence, 10)[m[41m[m
[32m+[m[32m        self.assertEqual(classification.description, 'ç¼ºå¤±ç­‰ç´šèªªæ˜')[m[41m[m
[32m+[m[32m        self.assertEqual(classification.level, 'ç¼ºå¤±ç­‰ç´šåˆ†é¡èªªæ˜')[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def test_read_level(self):[m[41m[m
[32m+[m[32m        new_level = self.classification_level_model.create({[m[41m[m
[32m+[m[32m            'name': 'LEVEL 002',[m[41m[m
[32m+[m[32m            'sequence': 15,[m[41m[m
[32m+[m[32m            'description': 'æè¿°',[m[41m[m
[32m+[m[32m            'level': 'åˆ†é¡'[m[41m[m
[32m+[m[32m        })[m[41m[m
[32m+[m[32m        level = new_level.read(['name', 'sequence', 'description', 'level'])[m[41m[m
[32m+[m[32m        self.assertEqual(level[0]['name'], 'LEVEL 002')[m[41m[m
[32m+[m[32m        self.assertEqual(level[0]['sequence'], 15)[m[41m[m
[32m+[m[32m        self.assertEqual(level[0]['description'], 'æè¿°')[m[41m[m
[32m+[m[32m        self.assertEqual(level[0]['level'], 'åˆ†é¡')[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def test_update_level(self):[m[41m[m
[32m+[m[32m        level = self.classification_level_model.create({[m[41m[m
[32m+[m[32m            'name': 'LEVEL 003',[m[41m[m
[32m+[m[32m            'sequence': 20,[m[41m[m
[32m+[m[32m            'description': 'æè¿°',[m[41m[m
[32m+[m[32m            'level': 'åˆ†é¡'[m[41m[m
[32m+[m[32m        })[m[41m[m
[32m+[m[32m        level.write({'sequence': 69})[m[41m[m
[32m+[m[32m        self.assertEqual(level.sequence, 69)[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def test_update_with_invalid_value(self):[m[41m[m
[32m+[m[32m        with self.assertRaises(ValidationError) as context:[m[41m[m
[32m+[m[32m            level = self.classification_level_model.create({[m[41m[m
[32m+[m[32m                'name': 'LEVEL 003',[m[41m[m
[32m+[m[32m                'sequence': 70,[m[41m[m
[32m+[m[32m                'description': 'æè¿°',[m[41m[m
[32m+[m[32m                'level': 'åˆ†é¡'[m[41m[m
[32m+[m[32m            })[m[41m[m
[32m+[m[32m            level.write({'sequence': 150})[m[41m[m
[32m+[m[32m        self.assertEqual(str(context.exception), "Sequence must be less than 100")[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def test_delete_level(self):[m[41m[m
[32m+[m[32m        level = self.classification_level_model.search({[m[41m[m
[32m+[m[32m            'name': 'LEVEL 010',[m[41m[m
[32m+[m[32m            'sequence': 30,[m[41m[m
[32m+[m[32m            'description': 'æè¿°',[m[41m[m
[32m+[m[32m            'level': 'åˆ†é¡'[m[41m[m
[32m+[m[32m        })[m[41m [m
[32m+[m[32m        level.unlink()[m[41m[m
[32m+[m[32m        check_level = self.classification_level_model.search([('name', '=', 'LEVEL 010')])[m[41m[m
[32m+[m[32m        self.assertFalse(check_level)[m[41m[m
[1mdiff --git a/tests/test_missingrecords_level_api.py b/tests/test_missingrecords_level_api.py[m
[1mnew file mode 100644[m
[1mindex 0000000..4286db2[m
[1m--- /dev/null[m
[1m+++ b/tests/test_missingrecords_level_api.py[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32mfrom odoo.tests import HttpCase[m[41m[m
[32m+[m[32mimport requests[m[41m[m
[32m+[m[32mimport json[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32mclass TestMissingRecordsLevelAPI(HttpCase):[m[41m[m
[32m+[m[32m    def setUp(self):[m[41m[m
[32m+[m[32m        super(TestMissingRecordsLevelAPI, self).setUp()[m[41m[m
[32m+[m[32m        self.base_url ="http://localhost:8069"[m[41m[m
[32m+[m[32m        self.auth_token ="7fd48d25-7c2d-4636-b361-110a855db40f"[m[41m[m
[32m+[m[32m        self.session_id = self.authenticate[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    def authenticate(self):[m[41m[m
[32m+[m[32m        url = f'{self.base_url}/web/session/authenticate'[m[41m[m
[32m+[m[32m        headers = {'Content-Type':'application/json'}[m[41m[m
[32m+[m[32m        data = {[m[41m[m
[32m+[m[32m            "jsonrpc": "2.0",[m[41m[m
[32m+[m[32m            "method":"call",[m[41m[m
[32m+[m[32m            "id":1,[m[41m[m
[32m+[m[32m            "method": "login",[m[41m[m
[32m+[m[32m            "params": {[m[41m[m
[32m+[m[32m                "db" : "odoo17_0709",[m[41m[m
[32m+[m[32m                "login" : "admin",[m[41m[m
[32m+[m[32m                "password" : "admin"[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            },[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m        response = requests.post(url, headers=headers, data=json.dumps(data))[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        def test_get_level(self):[m[41m[m
[32m+[m[32m            url = f'{self.base_url}/classification_level'[m[41m[m
[32m+[m[32m            headers = {[m[41m[m
[32m+[m[32m                'Authorization' : self.auth_token,[m[41m[m
[32m+[m[32m                'Cookie' : f'session_id={self.session_id}'[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m            response = requests.get(url, headers=headers)[m[41m[m
[32m+[m[32m            self.assertEqual(response.status_code, 200)[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/utils/__init__.py b/utils/__init__.py[m
[1mnew file mode 100644[m
[1mindex 0000000..94c5365[m
[1m--- /dev/null[m
[1m+++ b/utils/__init__.py[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mfrom . import authutils[m
\ No newline at end of file[m
[1mdiff --git a/utils/__pycache__/__init__.cpython-310.pyc b/utils/__pycache__/__init__.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..3d22caf[m
Binary files /dev/null and b/utils/__pycache__/__init__.cpython-310.pyc differ
[1mdiff --git a/New_res_partner/views/new_res_partner_view.xml:Zone.Identifier b/utils/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/views/new_res_partner_view.xml:Zone.Identifier[m
[1mrename to utils/__pycache__/__init__.cpython-310.pyc:Zone.Identifier[m
[1mdiff --git a/New_res_partner/views/new_res_partner_work_type_view.xml:Zone.Identifier b/utils/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1msimilarity index 100%[m
[1mrename from New_res_partner/views/new_res_partner_work_type_view.xml:Zone.Identifier[m
[1mrename to utils/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mdiff --git a/utils/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier b/utils/__pycache__/__init__.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/utils/__pycache__/authutils.cpython-310.pyc b/utils/__pycache__/authutils.cpython-310.pyc[m
[1mnew file mode 100644[m
[1mindex 0000000..701b400[m
Binary files /dev/null and b/utils/__pycache__/authutils.cpython-310.pyc differ
[1mdiff --git a/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier b/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..a45e1ac[m
[1m--- /dev/null[m
[1m+++ b/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32m[ZoneTransfer][m[41m[m
[32m+[m[32mZoneId=3[m[41m[m
[1mdiff --git a/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier:Zone.Identifier b/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..a45e1ac[m
[1m--- /dev/null[m
[1m+++ b/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier:Zone.Identifier[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32m[ZoneTransfer][m[41m[m
[32m+[m[32mZoneId=3[m[41m[m
[1mdiff --git a/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier b/utils/__pycache__/authutils.cpython-310.pyc:Zone.Identifier:Zone.Identifier:Zone.Identifier[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/utils/authutils.py b/utils/authutils.py[m
[1mnew file mode 100644[m
[1mindex 0000000..6a67704[m
[1m--- /dev/null[m
[1m+++ b/utils/authutils.py[m
[36m@@ -0,0 +1,25 @@[m
[32m+[m[32mfrom odoo.http import request, Response[m[41m[m
[32m+[m[32mfrom odoo.exceptions import AccessError[m[41m[m
[32m+[m[32mdef authenticate(func):[m[41m[m
[32m+[m	[32mdef wrapper(*args, **kwargs):[m[41m[m
[32m+[m		[32mtry:[m[41m[m
[32m+[m			[32mtoken = request.httprequest.headers.get('Authorization')[m[41m[m
[32m+[m			[32muser = authenticate_user(token)[m[41m[m
[32m+[m[41m[m
[32m+[m			[32mrequest.env = request.env(user=user)[m[41m[m
[32m+[m[41m[m
[32m+[m			[32mkwargs['user'] = user[m[41m[m
[32m+[m[41m[m
[32m+[m			[32mreturn func(*args, **kwargs)[m[41m[m
[32m+[m		[32mexcept AccessError as ae:[m[41m[m
[32m+[m			[32mreturn Response(f"Un-authorized: {(str(ae))}", status=401)[m[41m[m
[32m+[m		[32mexcept Exception as e:[m[41m[m
[32m+[m			[32mreturn Response(f"Bad Request: {str(e)}", status=400)[m[41m[m
[32m+[m	[32mreturn wrapper[m[41m[m
[32m+[m[32mdef authenticate_user(token):[m[41m[m
[32m+[m	[32muser = request.env['res.users'].sudo().search([('auth_token', '=', token)])[m[41m[m
[32m+[m	[32mif not user:[m[41m[m
[32m+[m		[32mraise AccessError("Invalid authentication token")[m[41m[m
[32m+[m	[32mreturn user[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/views/beforeafterimage.xml b/views/beforeafterimage.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..9dac5c3[m
[1m--- /dev/null[m
[1m+++ b/views/beforeafterimage.xml[m
[36m@@ -0,0 +1,39 @@[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <data>[m[41m[m
[32m+[m[32m        <!-- Improvement Record Tree View -->[m[41m[m
[32m+[m[32m        <record id="view_beforeafterimage_tree" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">beforeafterimage.tree</field>[m[41m[m
[32m+[m[32m            <field name="model">beforeafterimage</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <tree string="Improvement Records">[m[41m[m
[32m+[m[32m                    <field name="name" string="æ”¹å–„ç…§ç‰‡èªªæ˜"/>[m[41m[m
[32m+[m[32m                    <field name="photo_before" widget="image"/>[m[41m[m
[32m+[m[32m                    <field name="name2" string="æ”¹å–„å¾Œèªªæ˜"/>[m[41m[m
[32m+[m[32m                    <field name="photo_after" widget="image"/>[m[41m[m
[32m+[m[32m                </tree>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Improvement Record Form View -->[m[41m[m
[32m+[m[32m        <record id="view_beforeafterimage_form" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">beforeafterimage.form</field>[m[41m[m
[32m+[m[32m            <field name="model">beforeafterimage</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <form string="æ”¹å–„ç…§ç‰‡è¨˜éŒ„">[m[41m[m
[32m+[m[32m                    <sheet>[m[41m[m
[32m+[m[32m                        <group>[m[41m[m
[32m+[m[32m                            <group string="æ”¹å–„å‰">[m[41m[m
[32m+[m[32m                                <field name="name" placeholder="è«‹è¼¸å…¥æ”¹å–„å‰ç…§ç‰‡èªªæ˜"/>[m[41m[m
[32m+[m[32m                                <field name="photo_before" widget="image" options="{'size': [300, 300]}" />[m[41m[m
[32m+[m[32m                            </group>[m[41m[m
[32m+[m[32m                            <group string="æ”¹å–„å¾Œ">[m[41m[m
[32m+[m[32m                                <field name="name2" placeholder="è«‹è¼¸å…¥æ”¹å–„å¾Œç…§ç‰‡èªªæ˜"/>[m[41m[m
[32m+[m[32m                                <field name="photo_after" widget="image" options="{'size': [300, 300]}" />[m[41m[m
[32m+[m[32m                            </group>[m[41m[m
[32m+[m[32m                        </group>[m[41m[m
[32m+[m[32m                    </sheet>[m[41m[m
[32m+[m[32m                </form>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[32m    </data>[m[41m[m
[32m+[m[32m</odoo>[m[41m[m
[1mdiff --git a/views/classification_level.xml b/views/classification_level.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..74dd48c[m
[1m--- /dev/null[m
[1m+++ b/views/classification_level.xml[m
[36m@@ -0,0 +1,41 @@[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <data>[m[41m[m
[32m+[m[32m        <!-- Tree View -->[m[41m[m
[32m+[m[32m        <record id="view_classification_level_tree" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">classification_level.tree</field>[m[41m[m
[32m+[m[32m            <field name="model">classification_level</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <tree string="Htpoc Classification Level">[m[41m[m
[32m+[m[32m                    <field name="name" placeholder="ç¼ºå¤±ç­‰ç´š" required="True"/>[m[41m[m
[32m+[m[32m                    <field name="level" string="ç¼ºå¤±ç­‰ç´šèªªæ˜"/>[m[41m[m
[32m+[m[32m                </tree>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Form View -->[m[41m[m
[32m+[m[32m        <record id="view_classification_level_form" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">classification_level.form</field>[m[41m[m
[32m+[m[32m            <field name="model">classification_level</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <form string="Htpoc Classification Level">[m[41m[m
[32m+[m[32m                    <sheet>[m[41m[m
[32m+[m[32m                        <group>[m[41m[m
[32m+[m[32m                            <field name="name" placeholder="ç¼ºå¤±ç­‰ç´š"/>[m[41m[m
[32m+[m[32m                            <field name="level" string="ç¼ºå¤±ç­‰ç´šèªªæ˜"/>[m[41m[m
[32m+[m[32m                        </group>[m[41m[m
[32m+[m[32m                    </sheet>[m[41m[m
[32m+[m[32m                </form>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Action -->[m[41m[m
[32m+[m[32m        <record id="classification_level_action" model="ir.actions.act_window">[m[41m[m
[32m+[m[32m            <field name="name">Htpoc Classification Level ç¼ºå¤±ç­‰ç´š</field>[m[41m[m
[32m+[m[32m            <field name="res_model">classification_level</field>[m[41m[m
[32m+[m[32m            <field name="view_mode">tree,form</field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[32m    </data>[m[41m[m
[32m+[m[32m</odoo>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/views/htpoc_classification_views.xml b/views/htpoc_classification_views.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..278b0e9[m
[1m--- /dev/null[m
[1m+++ b/views/htpoc_classification_views.xml[m
[36m@@ -0,0 +1,48 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m[41m[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <data>[m[41m[m
[32m+[m[32m        <!-- Tree View -->[m[41m[m
[32m+[m[32m        <record id="view_htpoc_classification_tree" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">htpoc.classification.tree</field>[m[41m[m
[32m+[m[32m            <field name="model">htpoc.classification</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <tree string="Classification">[m[41m[m
[32m+[m[32m                    <field name="color"/>[m[41m[m
[32m+[m[32m                    <field name="name"/>[m[41m[m
[32m+[m[32m                </tree>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Form View -->[m[41m[m
[32m+[m[32m        <record id="view_htpoc_classification_form" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">htpoc.classification.form</field>[m[41m[m
[32m+[m[32m            <field name="model">htpoc.classification</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <form string="Classification">[m[41m[m
[32m+[m[32m                    <sheet>[m[41m[m
[32m+[m[32m                        <div class="oe_title">[m[41m[m
[32m+[m[32m                            <h1 style="border-bottom: 1px solid #000;">[m[41m[m
[32m+[m[32m                                <field name="name" placeholder="ç¼ºå¤±ç­‰ç´šåˆ†é¡" required="True" />[m[41m[m
[32m+[m[32m                            </h1>[m[41m[m
[32m+[m[32m                        </div>[m[41m[m
[32m+[m[32m                        <div class="row">[m[41m[m
[32m+[m[32m                            <div class="col-lg-6 ps-lg-0 ms-lg-3">[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                                <field name="color" placeholder="è«‹é¸æ“‡é¡è‰²" widget="char_emoji" />[m[41m[m
[32m+[m[32m                            </div>[m[41m[m
[32m+[m[32m                        </div>[m[41m[m
[32m+[m[32m                            <!-- <field name="name"/> -->[m[41m[m
[32m+[m[32m                            <!-- <field name="color"/> -->[m[41m[m
[32m+[m[32m                    </sheet>[m[41m[m
[32m+[m[32m                </form>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Action -->[m[41m[m
[32m+[m[32m        <record id="htpoc_classification_action" model="ir.actions.act_window">[m[41m[m
[32m+[m[32m            <field name="name">Classifications ç¼ºå¤±é¡åˆ¥</field>[m[41m[m
[32m+[m[32m            <field name="res_model">htpoc.classification</field>[m[41m[m
[32m+[m[32m            <field name="view_mode">tree,form</field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[32m    </data>[m[41m[m
[32m+[m[32m</odoo>[m[41m[m
[1mdiff --git a/views/htpoc_menu.xml b/views/htpoc_menu.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..004346f[m
[1m--- /dev/null[m
[1m+++ b/views/htpoc_menu.xml[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m[41m[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <menuitem id="htpoc_missing_records_menu_root" name="HTPOC ç¼ºå¤±ç´€éŒ„" sequence="0"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <!-- ç¼ºå¤±ç´€éŒ„å­èœå–® -->[m[41m[m
[32m+[m[32m    <menuitem id="htpoc_master_data_menu"[m[41m [m
[32m+[m[32m              name="ç¼ºå¤±ç´€éŒ„"[m[41m [m
[32m+[m[32m              parent="htpoc_missing_records_menu_root"[m[41m[m
[32m+[m[32m              sequence="1"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <menuitem id="htpoc_missingrecords_action"[m[41m [m
[32m+[m[32m              action="htpoc_action"[m[41m [m
[32m+[m[32m              parent="htpoc_master_data_menu"[m[41m[m
[32m+[m[32m              sequence="1"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <!-- é…ç½®å­èœå–® -->[m[41m[m
[32m+[m[32m    <menuitem id="htpoc_menu_configuration" name="é…ç½®" parent="htpoc_missing_records_menu_root" sequence="2"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <menuitem id="htpoc_missingrecords_type_menu_action"[m[41m [m
[32m+[m[32m              action="htpoc_missingrecords_type_action"[m[41m [m
[32m+[m[32m              parent="htpoc_menu_configuration"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <menuitem id="htpoc_classification_menu_action"[m[41m [m
[32m+[m[32m              action="htpoc_classification_action"[m[41m [m
[32m+[m[32m              parent="htpoc_menu_configuration"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <menuitem id="classification_level_menu_action"[m[41m [m
[32m+[m[32m              action="classification_level_action"[m[41m[m
[32m+[m[32m              parent="htpoc_menu_configuration"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    <!-- API é…ç½®èœå–® -->[m[41m[m
[32m+[m[32m    <menuitem id="api_menu" name="API é…ç½®" parent="htpoc_missing_records_menu_root" sequence="3"/>[m[41m[m
[32m+[m[32m    <menuitem id="api_user_token_menu_action" action="users_token_action" parent="api_menu"/>[m[41m [m
[32m+[m[32m</odoo>[m[41m[m
[1mdiff --git a/views/htpoc_missingrecords.xml b/views/htpoc_missingrecords.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..dd7d763[m
[1m--- /dev/null[m
[1m+++ b/views/htpoc_missingrecords.xml[m
[36m@@ -0,0 +1,140 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m[41m[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <data>[m[41m[m
[32m+[m[32m        <!-- Tree View -->[m[41m[m
[32m+[m[32m        <record id="view_htpoc_missingrecords_tree" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">htpoc.missingrecords.tree</field>[m[41m[m
[32m+[m[32m            <field name="model">htpoc.missingrecords</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <tree string="Missing Records List">[m[41m[m
[32m+[m[32m                    <field name="create_date" string="ç´€éŒ„æ™‚é–“"/>[m[41m[m
[32m+[m[32m                    <field name="cycle" string="é€±æœŸ"/>[m[41m[m
[32m+[m[32m                    <field name="main_contractor" string="ä¸»æ‰¿æ”¬å•†"/>[m[41m[m
[32m+[m[32m                    <field name="system_name" string="ç³»çµ±"/>[m[41m[m
[32m+[m[32m                    <field name="brief" string="ç¼ºå¤±ç°¡è¿°"/>[m[41m[m
[32m+[m[32m                    <field name="classification" string="ç¼ºå¤±ç­‰ç´šåˆ†é¡"/>[m[41m[m
[32m+[m[32m                    <field name="classification_color" string="ç¼ºå¤±åˆ†é¡é¡è‰²"/>[m[41m[m
[32m+[m[32m                    <field name="classification_level" string="ç¼ºå¤±ç­‰ç´š"/>[m[41m[m
[32m+[m[32m                    <field name="company" string="å…¬å¸åç¨±"/>[m[41m[m
[32m+[m[32m                    <field name="contact" string="è¯çµ¡äºº"/>[m[41m[m
[32m+[m[32m                    <field name="principal" string="è² è²¬äºº"/>[m[41m[m
[32m+[m[32m                    <field name="state" widget="badge"[m[41m [m
[32m+[m[32m                            decoration-info="state == 'initiate'"[m[41m[m
[32m+[m[32m                            decoration-success="state == 'completed'"[m[41m[m
[32m+[m[32m                            decoration-primary="state == 'in_process'"[m[41m[m
[32m+[m[32m                            decoration-danger="state == 'cancel'"/>[m[41m[m
[32m+[m[32m                </tree>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        <!-- Form View -->[m[41m[m
[32m+[m[32m        <record id="view_htpoc_missingrecords_form" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">htpoc.missingrecords.form</field>[m[41m[m
[32m+[m[32m            <field name="model">htpoc.missingrecords</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <form string="Missing Records Form">[m[41m[m
[32m+[m[32m                    <header>[m[41m[m
[32m+[m[32m                        <field name="state" widget="statusbar" statusbar_visible="initiate,in_process,completed"/>[m[41m[m
[32m+[m[32m                    </header>[m[41m[m
[32m+[m[32m                    <sheet>[m[41m[m
[32m+[m[32m                        <div>[m[41m[m
[32m+[m[32m                            <h1 style="text-decoration:underline">[m[41m[m
[32m+[m[32m                                <field name="brief" string="ç¼ºå¤±ç°¡è¿°" placeholder="ç¼ºå¤±ç°¡è¿°" required="True" options="{'no_create': True}" />[m[41m[m
[32m+[m[32m                                <hr />[m[41m[m
[32m+[m[32m                            </h1>[m[41m[m
[32m+[m[32m                            <h2>[m[41m[m
[32m+[m[32m                                <field name="company" string="å…¬å¸åç¨±" placeholder="å…¬å¸åç¨±" required="True" readonly="1"/>[m[41m[m
[32m+[m[32m                            </h2>[m[41m[m
[32m+[m[32m                        </div>[m[41m[m
[32m+[m[32m                        <div class="row">[m[41m[m
[32m+[m[32m                            <div class="col-lg-6">[m[41m[m
[32m+[m[32m                                <group>[m[41m[m
[32m+[m[32m                                    <field name="contact" string="è¯çµ¡äºº" />[m[41m[m
[32m+[m[32m                                    <field name="phone" string="é€£çµ¡é›»è©±" widget="phone"/>[m[41m[m
[32m+[m[32m                                    <field name="email" string="é›»å­ä¿¡ç®±" widget="email"/>[m[41m[m
[32m+[m[32m                                    <field name="system_name" string="ç³»çµ±"/>[m[41m[m
[32m+[m[32m                                    <field name="cycle" string="é€±æœŸ"/>[m[41m[m
[32m+[m[32m                                    <field name="main_contractor" string="ä¸»æ‰¿æ”¬å•†" options="{'no_create': True}"/>[m[41m[m
[32m+[m[32m                                    <field name="deputy_contractor" string="å‰¯æ‰¿æ”¬å•†" options="{'no_create': True}"/>[m[41m[m
[32m+[m[32m                                    <field name="security_person"/>[m[41m[m
[32m+[m[32m                                    <field name="security_person_tel" widget="phone"/>[m[41m[m
[32m+[m[32m                                    <field name="create_date" string="ç´€éŒ„æ™‚é–“"/>[m[41m[m
[32m+[m[32m                                    <field name="write_date" string="æœ€å¾Œæ›´æ–°è¡¨å–®çš„æ™‚é–“"/>[m[41m[m
[32m+[m[32m                                    <field name="content" string="è©³ç´°ç¼ºå¤±å…§å®¹" placeholder="è«‹è¼¸å…¥è©³ç´°ç¼ºå¤±å…§å®¹"/>[m[41m[m
[32m+[m[41m                                    [m
[32m+[m[32m                                </group>[m[41m[m
[32m+[m[32m                            </div>[m[41m[m
[32m+[m[32m                            <div class="col-lg-6">[m[41m[m
[32m+[m[32m                                <group>[m[41m                            [m
[32m+[m[32m                                    <field name="principal" string="è² è²¬äºº"/>[m[41m[m
[32m+[m[32m                                    <field name="classification" string="ç¼ºå¤±ç­‰ç´šåˆ†é¡"/>[m[41m[m
[32m+[m[32m                                    <field name="classification_color" string="ç¼ºå¤±åˆ†é¡é¡è‰²"/>[m[41m[m
[32m+[m[32m                                    <field name="classification_level" string="ç¼ºå¤±ç­‰ç´š"/>[m[41m[m
[32m+[m[32m                                    <field name="classification_common" string="ç¼ºå¤±ç­‰ç´šèªªæ˜"/>[m[41m[m
[32m+[m[32m                                    <field name="floor" string="æ¨“å±¤"/>[m[41m[m
[32m+[m[32m                                    <field name="pillar" string="æŸ±ä½"/>[m[41m[m
[32m+[m[32m                                    <field name="feeback" string="å›å ±"/>[m[41m[m
[32m+[m[32m                                    <field name="penalties" string="ç½°å‰‡"/>[m[41m[m
[32m+[m[32m                                    <field name="improve" string="ç¾å ´ç«‹å³æ”¹å–„æªæ–½"/>[m[41m[m
[32m+[m[32m                                    <field name="improveDT" string="æ”¹å–„æªæ–½èˆ‡æ™‚é–“"/>[m[41m[m
[32m+[m[32m                                    <field name="sign" widget="signature"/>[m[41m[m
[32m+[m[32m                                    <field name="sign2" widget="signature"/>[m[41m[m
[32m+[m[32m                                </group>[m[41m[m
[32m+[m[32m                            </div>[m[41m[m
[32m+[m[32m                        </div>[m[41m[m
[32m+[m[32m                        <notebook>[m[41m[m
[32m+[m[32m                            <page string="æ”¹å–„ç´€éŒ„">[m[41m[m
[32m+[m[32m                                <field name="improvement_record_ids">[m[41m[m
[32m+[m[32m                                    <tree string="Improvement Records">[m[41m[m
[32m+[m[32m                                        <field name="name" string="æ”¹å–„å‰èªªæ˜" style="width:20%;"/>[m[41m[m
[32m+[m[32m                                        <field name="photo_before" widget="image" string="æ”¹å–„å‰ç…§ç‰‡" style="width:25%;"/>[m[41m[m
[32m+[m[32m                                        <field name="name2" string="æ”¹å–„å¾Œèªªæ˜" style="width:20%;"/>[m[41m[m
[32m+[m[32m                                        <field name="photo_after" widget="image" string="æ”¹å–„å¾Œç…§ç‰‡" style="width:25%;"/>[m[41m[m
[32m+[m[32m                                    </tree>[m[41m[m
[32m+[m[32m                                </field>[m[41m[m
[32m+[m[32m                            </page>[m[41m[m
[32m+[m[32m                        </notebook>[m[41m[m
[32m+[m[32m                    </sheet>[m[41m[m
[32m+[m[32m                    <!-- éƒµä»¶ç™¼é€èˆ‡é—œæ³¨è€… -->[m[41m[m
[32m+[m[32m                    <div class="oe_chatter">[m[41m [m
[32m+[m[32m                        <field name="message_follower_ids" widget="mail_followers"/>[m[41m[m
[32m+[m[32m                        <field name="message_ids" widget="mail_thread" string='ç™¼é€è¨Šæ¯'/>[m[41m[m
[32m+[m[32m                        <field name="activity_ids" widget="mail_activity" string='æ´»å‹•'/>[m[41m[m
[32m+[m[32m                    </div>[m[41m[m
[32m+[m[32m                </form>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <record id="view_htpoc_missingrecords_search" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">htpoc.missingrecords.search</field>[m[41m[m
[32m+[m[32m            <field name="model">htpoc.missingrecords</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <search string="Missing Records Search">[m[41m[m
[32m+[m[32m                    <!-- åŸºæœ¬æœç´¢å­—æ®µ -->[m[41m[m
[32m+[m[32m                    <field name="create_uid" string="å‰µå»ºè€…"/>[m[41m[m
[32m+[m[32m                    <field name="create_date" string="å‰µå»ºæ—¥æœŸ"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                    <!-- åŸºæœ¬éæ¿¾å™¨ -->[m[41m[m
[32m+[m[32m                    <filter string="æˆ‘çš„ Missing Records" name="my_records" domain="[('principal', '=', uid)]"/>[m[41m[m
[32m+[m[32m                    <filter string="æœ¬æœˆå‰µå»º" name="create_date" date="create_date" default_period="this_month"/>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                    <!-- åŸºæœ¬åˆ†çµ„ -->[m[41m[m
[32m+[m[32m                    <group expand="0" string="åˆ†çµ„ä¾æ“š">[m[41m[m
[32m+[m[32m                        <filter string="æ¥­å‹™å¤¥ä¼´" name="company" context="{'group_by': 'company'}"/>[m[41m[m
[32m+[m[32m                        <filter string="è² è²¬äºº" name="principal" context="{'group_by': 'principal'}"/>[m[41m[m
[32m+[m[32m                        <filter string="éšæ®µ" name="state" context="{'group_by': 'state'}"/>[m[41m[m
[32m+[m[32m                    </group>[m[41m[m
[32m+[m[32m                </search>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Action -->[m[41m[m
[32m+[m[32m        <record id="htpoc_action" model="ir.actions.act_window">[m[41m[m
[32m+[m[32m            <field name="name">ç¼ºå¤±ç´€éŒ„è¡¨</field>[m[41m[m
[32m+[m[32m            <field name="res_model">htpoc.missingrecords</field>[m[41m[m
[32m+[m[32m            <field name="view_mode">tree,form</field>[m[41m[m
[32m+[m[32m            <!-- <field name="context">{'search_default_my_records': 1}</field> -->[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[32m    </data>[m[41m[m
[32m+[m[32m</odoo>[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/views/htpoc_missingrecords_type.xml b/views/htpoc_missingrecords_type.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..7d8a62b[m
[1m--- /dev/null[m
[1m+++ b/views/htpoc_missingrecords_type.xml[m
[36m@@ -0,0 +1,41 @@[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <data>[m[41m[m
[32m+[m[32m        <!-- Tree View -->[m[41m[m
[32m+[m[32m        <record id="view_htpoc_missingrecords_type_tree" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">htpoc.missingrecords.type.tree</field>[m[41m[m
[32m+[m[32m            <field name="model">htpoc.missingrecords.type</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <tree string="Htpoc Missingrecords Type">[m[41m[m
[32m+[m[32m                    <field name="name" placeholder="è«‹è¼¸å…¥ç³»çµ±åç¨±"/>[m[41m[m
[32m+[m[32m                    <field name="sequence"/>[m[41m[m
[32m+[m[32m                </tree>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Form View -->[m[41m[m
[32m+[m[32m        <record id="view_htpoc_missingrecords_type_form" model="ir.ui.view">[m[41m[m
[32m+[m[32m            <field name="name">htpoc.missingrecords.type.form</field>[m[41m[m
[32m+[m[32m            <field name="model">htpoc.missingrecords.type</field>[m[41m[m
[32m+[m[32m            <field name="arch" type="xml">[m[41m[m
[32m+[m[32m                <form string="Htpoc Missingrecords Type">[m[41m[m
[32m+[m[32m                    <sheet>[m[41m[m
[32m+[m[32m                        <group>[m[41m[m
[32m+[m[32m                            <field name="name"/>[m[41m[m
[32m+[m[32m                            <field name="description"/>[m[41m[m
[32m+[m[32m                        </group>[m[41m[m
[32m+[m[32m                    </sheet>[m[41m[m
[32m+[m[32m                </form>[m[41m[m
[32m+[m[32m            </field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        <!-- Action -->[m[41m[m
[32m+[m[32m        <record id="htpoc_missingrecords_type_action" model="ir.actions.act_window">[m[41m[m
[32m+[m[32m            <field name="name">Htpoc Missingrecords ç¼ºå¤±ç³»çµ±</field>[m[41m[m
[32m+[m[32m            <field name="res_model">htpoc.missingrecords.type</field>[m[41m[m
[32m+[m[32m            <field name="view_mode">tree,form</field>[m[41m[m
[32m+[m[32m        </record>[m[41m[m
[32m+[m[32m    </data>[m[41m[m
[32m+[m[32m</odoo>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/views/users.xml b/views/users.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..1bd39bc[m
[1m--- /dev/null[m
[1m+++ b/views/users.xml[m
[36m@@ -0,0 +1,28 @@[m
[32m+[m[32m<odoo>[m[41m[m
[32m+[m[32m    <data>[m[41m[m
[32m+[m[32m        <record id="view_users_with_token_tree" model="ir.ui.view">[m[41m[m
[32m+[m		[32m<field name="name">users.with.token.tree</field>[m[41m[m
[32m+[m		[32m<field name="model">res.users</field>[m[41m[m
[32m+[m		[32m<field name="arch" type="xml">[m[41m[m
[32m+[m			[32m<tree create="0">[m[41m[m
[32m+[m				[32m<field name="name" />[m[41m[m
[32m+[m				[32m<field name="auth_token" />[m[41m[m
[32m+[m				[32m<button[m[41m [m
[32m+[m					[32mstring="Generate Auth Token"[m[41m [m
[32m+[m					[32mtype="object"[m[41m [m
[32m+[m					[32mclass="oe_highlight"[m[41m [m
[32m+[m					[32mname="generate_auth_token"[m[41m[m
[32m+[m				[32m/>[m[41m[m
[32m+[m			[32m</tree>[m[41m[m
[32m+[m		[32m</field>[m[41m[m
[32m+[m	[32m</record>[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m<record id="users_token_action" model="ir.actions.act_window">[m[41m[m
[32m+[m		[32m<field name="name">Users with Auth Token</field>[m[41m[m
[32m+[m		[32m<field name="res_model">res.users</field>[m[41m[m
[32m+[m		[32m<field name="view_mode">tree</field>[m[41m[m
[32m+[m		[32m<field name="view_id" ref="HTPOC.view_users_with_token_tree"></field>[m[41m[m
[32m+[m	[32m</record>[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m    </data>[m[41m[m
[32m+[m[32m</odoo>[m[41m[m
